/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
!function(t,e,n,o){"use strict";function a(e){t(".wdw").hide(),t("#"+e).show()}function l(){var e=JSON.parse(localStorage.events);e.forEach(function(e){t("#event-listing tbody").append('<tr data-event-id="'+e.id+'">\t\t\t\t\t\t\t\t\t\t<td>'+e.name+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.topic+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.speaker+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.date.day+" "+e.date.month+" "+e.date.year+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.time_24h.hour+":"+e.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t')})}function i(t,e,n,o){var a=t.toLowerCase(),l=e.toLowerCase();console.log("The input value is: "+a),console.log("The JSON data to compare is: "+l);var i=l.includes(a);console.log("The bool = "+i),1==i?(console.log("Match made"),o.push(n)):console.log("False")}function s(){t("#linkRegister").fadeOut(500),t("#linkLogin").fadeOut(500),t("#linkLogout").fadeIn(500)}function c(){var t,e,o,a,l,i;for(t=n.getElementById("searchfront"),e=t.value.toUpperCase(),o=n.getElementById("effect-milo"),a=o.getElementsByTagName("location"),console.log(a),i=0;i<a.length;i++)l=a[i].getElementById("span")[0],console.log(l),console.log(a[i]+a),l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?(a[i].style.display="",console.log(a[i])):(a[i].style.display="none",console.log(a[i])))}function r(){var t,e,o,a,l,i;for(t=n.getElementById("myInput"),e=t.value.toUpperCase(),o=n.getElementById("myTable"),a=o.getElementsByTagName("tr"),i=0;i<a.length;i++)l=a[i].getElementsByTagName("td")[0],l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?a[i].style.display="":a[i].style.display="none")}function d(){var e=t("#inputpostimg").val(),n=t("#inputposttitel").val(),o=t("#inputpostdesc").val(),a=t("#inputpostlocation").val(),l={postimageurl:e,posttitel:n,postdesc:o,postloc:a};console.log(l)}function g(){var t={username:"username",password:"password"};localStorage.setItem("credentials",JSON.stringify(t))}console.log("script.js inititalized");var v=[];if(localStorage.sEvents){var p=localStorage.sEvents;v=JSON.parse(p)}t(function(){});for(var u=0;u<v.length;u++)t("#lblEvents").append('<tr><th scope="row"><h4>'+v[u].id+"</h4></th><td><h4>"+v[u].name+'</h4></td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>');if(t("#postbtn").on("click",function(){var e=(new Date).getTime(),n=t("#inputpostimg").val(),o=t("#inputpostevent").val(),l=t("#inputpostdesc").val(),i=t("#inputpostlocation").val(),s="link";t("#lblEvents").append("<tr><td>"+o+"</td><td>"+i+"</td><td>"+e+"</td><td>"+s+'</td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>'),a("wdw-calendar");var c={};c.id=(new Date).getTime(),c.imageUrl=n,c.postevent=o,c.PostDesc=l,c.sPostLocation=i,v.push(c);var r=JSON.stringify(v);localStorage.sEvents=r}),t("#lblEvents div").each(function(e){console.log(e+": "+t(this).text()),t(this).css}),t("#searchEvents").on("click",function(){var e=t("#searchfront").val(),n=e.split(" "),o=[];console.log(n);var a=JSON.parse(localStorage.events);n.forEach(function(t){var e=t;a.forEach(function(t){var n=t.name,a=(t.topic,t.level),l=t.speaker_organization;t.location;i(e,n,t,o),i(e,a,t,o),i(e,l,t,o)})}),console.log(o);var l=o.filter(function(t,e,n){return e==n.indexOf(t)});console.log(l),t("#event-listing").empty();var s=l.length/3;console.log("The base number is: "+s),l.forEach(function(e){var n=e.topic;console.log(l.length),console.log(e.name),t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>          ")})}),null==localStorage.events)console.log("localStorage.events is empty"),t.getJSON("assets/data/events.json").done(function(e){console.log(e);var n=JSON.stringify(e);localStorage.events=n,console.log("localStorage.events successfully populated");var o=localStorage.events,a=JSON.parse(o);a.forEach(function(e){if(a.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('              <div class="event-thirds" data-event-id="'+e.id+'">                <div>                  <h1>'+e.name+"</h1>                  <h2>"+n+"</h2>                  <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>                </div>              </div>          ")}}),l()});else if(localStorage.events){console.log("localStorage.events has data");var f=localStorage.events,m=JSON.parse(f);m.forEach(function(e){if(m.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>        ")}}),l()}t(n).ready(function(){a("wdw-home")}),t("#searchfront").keyup(function(){c(),console.log("searchign,")}),t("#myInput").keyup(function(){r()}),t(n).ready(function(){g()}),t("#loginbtn").on("click",function(){var e=JSON.parse(localStorage.getItem("credentials")),n=JSON.parse(localStorage.getItem("credentialsMember")),o=t("#inputusername").val(),l=t("#inputpassword").val();e.username===o&&e.password===l||n.username===o&&n.password===l?(console.log("Welcome Mr.   "+e.username),s(),t(".brand h1").text("Logged in as Admin # "+e.username),a("wdw-index"),console.log(n.username+n.password)):console.log("failed login")}),t("#memberbtn").on("click",function(){var e=t("#inputfnamereg").val(),n=t("#inputlnamereg").val(),o=t("#inputemailreg").val(),l=t("#inputlocationreg").val(),i=t("#inputusernamereg").val(),s=t("#inputpasswordreg").val(),c={fname:e,lname:n,email:o,location:l,usernam:i,password:s};localStorage.setItem("credentialsMember",JSON.stringify(c)),console.log("Local Storage store",c),a("wdw-login")}),t("#postbtn").on("click",function(){d(),console.log("post event")}),t("#linkLogin").on("click",function(){a("wdw-login"),console.log("Nav - login clicked")}),t("#linkHome").on("click",function(){a("wdw-home"),console.log("Nav - Home Clicked ")}),t("#linkEvents").on("click",function(){a("wdw-events"),console.log("Nav - Link Event")}),t("#linkNews").on("click",function(){a("wdw-news"),console.log("Nav - News clicked")}),t("#linkCalendar").on("click",function(){a("wdw-calendar"),console.log("Nav - Calendar clicked")}),t("#linkAllEvents").on("click",function(){a("wdw-all-events"),console.log("Nav - all events click")}),t("#btnpostevent").on("click",function(){a("wdw-post-event"),console.log("Postclicke")}),v.indexOf(this),t(".fa-fa-trash").click(function(){console.log("Trashed clicked",v,v[u],v.length),v.splice(1,1)}),t("#manage-events").on("click",function(){a("wdw-manage-events"),console.log("manage events clicked ")}),t("#manage-users").on("click",function(){a("wdw-manage-users"),console.log("manage users clicked ")}),t("#manage-members").on("click",function(){a("wdw-manage-members"),console.log("manage-members clicked")}),t(".fa-fa-trash").click(function(){t(this).parent().hide(),console.log("Trash delete clicked ")})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93Iiwic1dpbmRvd0lkIiwiaGlkZSIsInNob3ciLCJpbml0UG9wRGF0YSIsImpFdmVudHMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJldmVudHMiLCJmb3JFYWNoIiwiaiIsImFwcGVuZCIsImlkIiwibmFtZSIsInRvcGljIiwic3BlYWtlciIsImRhdGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJ0aW1lXzI0aCIsImhvdXIiLCJtaW51dGUiLCJjb21wYXJlIiwiaW5wdXRWYWwiLCJkYXRhVmFsIiwiak9iaiIsImpEYXRhIiwiaW5wdXRWYWxMb3dlciIsInRvTG93ZXJDYXNlIiwiZGF0YVZhbExvd2VyIiwiY29uc29sZSIsImxvZyIsImJvb2wiLCJpbmNsdWRlcyIsInB1c2giLCJpc0xvZ2dlZEluIiwiZmFkZU91dCIsImZhZGVJbiIsInNlYXJjaEV2ZW50c0hvbWUiLCJpbnB1dCIsImZpbHRlciIsImZpZ2NsYXNzIiwiZmlnY2FwIiwibG9jYXRpb24iLCJpIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJpbmRleE9mIiwic3R5bGUiLCJkaXNwbGF5Iiwic2VhcmNoRXZlbnRzIiwidGFibGUiLCJ0ciIsInRkIiwiZ2V0UG9zdCIsInNJbWFnZVVybCIsInZhbCIsInNwb3N0dGl0ZWwiLCJzUG9zdERlc2MiLCJzUG9zdExvY2F0aW9uIiwiUG9zdCIsInBvc3RpbWFnZXVybCIsInBvc3R0aXRlbCIsInBvc3RkZXNjIiwicG9zdGxvYyIsImxvZ2luQWRtaW4iLCJ1c2VyQ3JlZHNBZG1pbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiYUV2ZW50cyIsInNFdmVudHMiLCJzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSIsIm9uIiwic0V2ZW50SWQiLCJEYXRlIiwiZ2V0VGltZSIsInNwb3N0ZXZlbnQiLCJzTGluayIsImpFdmVudCIsImltYWdlVXJsIiwicG9zdGV2ZW50IiwiUG9zdERlc2MiLCJzRmluYWxFdmVudHMiLCJlYWNoIiwiaW5kZXgiLCJ0aGlzIiwidGV4dCIsImNzcyIsImlucHV0U2VhcmNoRmllbGQiLCJhSW5wdXQiLCJzcGxpdCIsImpSZXN1bHRzIiwialRlbXAiLCJhIiwidGVtcCIsImxldmVsIiwib3JnIiwic3BlYWtlcl9vcmdhbml6YXRpb24iLCJqUmVzdWx0c0ZpbmFsIiwiZWxlbSIsInNlbGYiLCJlbXB0eSIsImJhc2VOdW1iZXIiLCJhVG9waWNzIiwiZ2V0SlNPTiIsImRvbmUiLCJzRGF0YSIsInJlYWR5Iiwia2V5dXAiLCJjcmVkZW50aWFscyIsImdldEl0ZW0iLCJjcmVkZW50aWFsc01lbWJlciIsInVzZXJuYW1lSW5wdXQiLCJpbnB1dGZuYW1lIiwiaW5wdXRsbmFtZSIsImlucHV0ZW1haWwiLCJpbnB1dGxvY2F0aW9uIiwiaW5wdXR1c2VybmFtZSIsImlucHV0cGFzcyIsInVzZXJDcmVkcyIsImZuYW1lIiwibG5hbWUiLCJlbWFpbCIsInVzZXJuYW0iLCJjbGljayIsInNwbGljZSIsInBhcmVudCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Q0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFlBS0EsU0FBQUMsR0FBQUMsR0FDQUwsRUFBQSxRQUFBTSxPQUNBTixFQUFBLElBQUFLLEdBQUFFLE9BZ1BBLFFBQUFDLEtBR0EsR0FBQUMsR0FBQUMsS0FBQUMsTUFBQUMsYUFBQUMsT0FDQUosR0FBQUssUUFBQSxTQUFBQyxHQUNBZixFQUFBLHdCQUFBZ0IsT0FBQSxzQkFBQUQsRUFBQUUsR0FBQSw2QkFDQUYsRUFBQUcsS0FBQSxnQ0FDQUgsRUFBQUksTUFBQSxnQ0FDQUosRUFBQUssUUFBQSxnQ0FDQUwsRUFBQU0sS0FBQUMsSUFBQSxJQUFBUCxFQUFBTSxLQUFBRSxNQUFBLElBQUFSLEVBQUFNLEtBQUFHLEtBQUEsZ0NBQ0FULEVBQUFVLFNBQUFDLEtBQUEsSUFBQVgsRUFBQVUsU0FBQUUsT0FBQSw4UUFZQSxRQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUFKLEVBQUFLLGNBQ0FDLEVBQUFMLEVBQUFJLGFBRUFFLFNBQUFDLElBQUEsdUJBQUFKLEdBQ0FHLFFBQUFDLElBQUEsZ0NBQUFGLEVBRUEsSUFBQUcsR0FBQUgsRUFBQUksU0FBQU4sRUFDQUcsU0FBQUMsSUFBQSxjQUFBQyxHQUVBLEdBQUFBLEdBQ0FGLFFBQUFDLElBQUEsY0FDQUwsRUFBQVEsS0FBQVQsSUFFQUssUUFBQUMsSUFBQSxTQXdCQSxRQUFBSSxLQUVBekMsRUFBQSxpQkFBQTBDLFFBQUEsS0FDQTFDLEVBQUEsY0FBQTBDLFFBQUEsS0FDQTFDLEVBQUEsZUFBQTJDLE9BQUEsS0FPQSxRQUFBQyxLQUNBLEdBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLENBU0EsS0FQQUwsRUFBQTNDLEVBQUFpRCxlQUFBLGVBQ0FMLEVBQUFELEVBQUFPLE1BQUFDLGNBQ0FOLEVBQUE3QyxFQUFBaUQsZUFBQSxlQUNBSCxFQUFBRCxFQUFBTyxxQkFBQSxZQUVBbEIsUUFBQUMsSUFBQVcsR0FFQUUsRUFBQSxFQUFBQSxFQUFBRixFQUFBTyxPQUFBTCxJQUNBRCxFQUFBRCxFQUFBRSxHQUFBQyxlQUFBLFFBQUEsR0FDQWYsUUFBQUMsSUFBQVksR0FDQWIsUUFBQUMsSUFBQVcsRUFBQUUsR0FBQUYsR0FFQUMsSUFDQUEsRUFBQU8sVUFBQUgsY0FBQUksUUFBQVgsT0FDQUUsRUFBQUUsR0FBQVEsTUFBQUMsUUFBQSxHQUNBdkIsUUFBQUMsSUFBQVcsRUFBQUUsTUFFQUYsRUFBQUUsR0FBQVEsTUFBQUMsUUFBQSxPQUNBdkIsUUFBQUMsSUFBQVcsRUFBQUUsTUFhQSxRQUFBVSxLQUVBLEdBQUFmLEdBQUFDLEVBQUFlLEVBQUFDLEVBQUFDLEVBQUFiLENBT0EsS0FOQUwsRUFBQTNDLEVBQUFpRCxlQUFBLFdBQ0FMLEVBQUFELEVBQUFPLE1BQUFDLGNBQ0FRLEVBQUEzRCxFQUFBaUQsZUFBQSxXQUNBVyxFQUFBRCxFQUFBUCxxQkFBQSxNQUdBSixFQUFBLEVBQUFBLEVBQUFZLEVBQUFQLE9BQUFMLElBRUFhLEVBQUFELEVBQUFaLEdBQUFJLHFCQUFBLE1BQUEsR0FDQVMsSUFDQUEsRUFBQVAsVUFBQUgsY0FBQUksUUFBQVgsTUFDQWdCLEVBQUFaLEdBQUFRLE1BQUFDLFFBQUEsR0FFQUcsRUFBQVosR0FBQVEsTUFBQUMsUUFBQSxRQStCQSxRQUFBSyxLQUNBLEdBQUFDLEdBQUFqRSxFQUFBLGlCQUFBa0UsTUFDQUMsRUFBQW5FLEVBQUEsbUJBQUFrRSxNQUNBRSxFQUFBcEUsRUFBQSxrQkFBQWtFLE1BQ0FHLEVBQUFyRSxFQUFBLHNCQUFBa0UsTUFJQUksR0FDQUMsYUFBQU4sRUFDQU8sVUFBQUwsRUFDQU0sU0FBQUwsRUFDQU0sUUFBQUwsRUFJQWpDLFNBQUFDLElBQUFpQyxHQVdBLFFBQUFLLEtBQ0EsR0FBQUMsSUFDQUMsU0FBQSxXQUNBQyxTQUFBLFdBRUFsRSxjQUFBbUUsUUFBQSxjQUFBckUsS0FBQXNFLFVBQUFKLElBN2FBeEMsUUFBQUMsSUFBQSx5QkFXQSxJQUFBNEMsS0FHQSxJQUFBckUsYUFBQXNFLFFBQUEsQ0FHQSxHQUFBQyxHQUFBdkUsYUFBQXNFLE9BQ0FELEdBQUF2RSxLQUFBQyxNQUFBd0UsR0FJQW5GLEVBQUEsYUFZQSxLQUFBLEdBQUFrRCxHQUFBLEVBQUFBLEVBQUErQixFQUFBMUIsT0FBQUwsSUFFQWxELEVBQUEsY0FBQWdCLE9BQ0EsMkJBQ0FpRSxFQUFBL0IsR0FBQWpDLEdBQUEscUJBQ0FnRSxFQUFBL0IsR0FBQWhDLEtBQUEseUVBd0lBLElBaElBbEIsRUFBQSxZQUFBb0YsR0FBQSxRQUFBLFdBRUEsR0FBQUMsSUFBQSxHQUFBQyxPQUFBQyxVQUNBdEIsRUFBQWpFLEVBQUEsaUJBQUFrRSxNQUNBc0IsRUFBQXhGLEVBQUEsbUJBQUFrRSxNQUNBRSxFQUFBcEUsRUFBQSxrQkFBQWtFLE1BQ0FHLEVBQUFyRSxFQUFBLHNCQUFBa0UsTUFDQXVCLEVBQUEsTUFJQXpGLEdBQUEsY0FBQWdCLE9BQ0EsV0FDQXdFLEVBQUEsWUFDQW5CLEVBQUEsWUFDQWdCLEVBQUEsWUFDQUksRUFBQSxxRUFJQXJGLEVBQUEsZUFHQSxJQUFBc0YsS0FDQUEsR0FBQXpFLElBQUEsR0FBQXFFLE9BQUFDLFVBQ0FHLEVBQUFDLFNBQUExQixFQUNBeUIsRUFBQUUsVUFBQUosRUFDQUUsRUFBQUcsU0FBQXpCLEVBQ0FzQixFQUFBckIsY0FBQUEsRUFDQVksRUFBQXpDLEtBQUFrRCxFQUdBLElBQUFJLEdBQUFwRixLQUFBc0UsVUFBQUMsRUFFQXJFLGNBQUFzRSxRQUFBWSxJQU1BOUYsRUFBQSxrQkFBQStGLEtBQUEsU0FBQUMsR0FDQTVELFFBQUFDLElBQUEyRCxFQUFBLEtBQUFoRyxFQUFBaUcsTUFBQUMsUUFDQWxHLEVBQUFpRyxNQUFBRSxNQWFBbkcsRUFBQSxpQkFBQW9GLEdBQUEsUUFBQSxXQUVBLEdBQUFnQixHQUFBcEcsRUFBQSxnQkFBQWtFLE1BQ0FtQyxFQUFBRCxFQUFBRSxNQUFBLEtBQ0FDLElBRUFuRSxTQUFBQyxJQUFBZ0UsRUFJQSxJQUFBRyxHQUFBOUYsS0FBQUMsTUFBQUMsYUFBQUMsT0FHQXdGLEdBQUF2RixRQUFBLFNBQUEyRixHQUVBLEdBQUFDLEdBQUFELENBRUFELEdBQUExRixRQUFBLFNBQUFDLEdBRUEsR0FBQUcsR0FBQUgsRUFBQUcsS0FFQXlGLEdBREE1RixFQUFBSSxNQUNBSixFQUFBNEYsT0FDQUMsRUFBQTdGLEVBQUE4RixvQkFDQTlGLEdBQUFrQyxRQUVBckIsR0FBQThFLEVBQUF4RixFQUFBSCxFQUFBd0YsR0FFQTNFLEVBQUE4RSxFQUFBQyxFQUFBNUYsRUFBQXdGLEdBQ0EzRSxFQUFBOEUsRUFBQUUsRUFBQTdGLEVBQUF3RixPQU9BbkUsUUFBQUMsSUFBQWtFLEVBRUEsSUFBQU8sR0FBQVAsRUFBQXpELE9BQUEsU0FBQWlFLEVBQUFmLEVBQUFnQixHQUNBLE1BQUFoQixJQUFBZ0IsRUFBQXZELFFBQUFzRCxJQUdBM0UsU0FBQUMsSUFBQXlFLEdBR0E5RyxFQUFBLGtCQUFBaUgsT0FFQSxJQUFBQyxHQUFBSixFQUFBdkQsT0FBQSxDQUNBbkIsU0FBQUMsSUFBQSx1QkFBQTZFLEdBR0FKLEVBQUFoRyxRQUFBLFNBQUFDLEdBQ0EsR0FBQW9HLEdBQUFwRyxFQUFBSSxLQUVBaUIsU0FBQUMsSUFBQXlFLEVBQUF2RCxRQUNBbkIsUUFBQUMsSUFBQXRCLEVBQUFHLE1BR0FsQixFQUFBLGtCQUFBZ0IsT0FBQSx3REFDQUQsRUFBQUUsR0FBQSw0Q0FFQUYsRUFBQUcsS0FBQSw0QkFDQWlHLEVBQUEsNEJBQ0FwRyxFQUFBTSxLQUFBQyxJQUFBLElBQUFQLEVBQUFNLEtBQUFFLE1BQUEsSUFBQVIsRUFBQU0sS0FBQUcsS0FBQSw2REFXQSxNQUFBWixhQUFBQyxPQUlBdUIsUUFBQUMsSUFBQSxnQ0FDQXJDLEVBQUFvSCxRQUFBLDJCQUFBQyxLQUFBLFNBQUFyRixHQUNBSSxRQUFBQyxJQUFBTCxFQUVBLElBQUFzRixHQUFBNUcsS0FBQXNFLFVBQUFoRCxFQUNBcEIsY0FBQUMsT0FBQXlHLEVBQ0FsRixRQUFBQyxJQUFBLDZDQUVBLElBQUE2QyxHQUFBdEUsYUFBQUMsT0FDQUosRUFBQUMsS0FBQUMsTUFBQXVFLEVBRUF6RSxHQUFBSyxRQUFBLFNBQUFDLEdBQ0EsR0FBQU4sRUFBQWdELFFBQUExQyxJQUFBLEVBQUEsQ0FFQXFCLFFBQUFDLElBQUEsUUFFQSxJQUFBOEUsR0FBQXBHLEVBQUFJLEtBRUFuQixHQUFBLGtCQUFBZ0IsT0FBQSwwREFDQUQsRUFBQUUsR0FBQSxnREFFQUYsRUFBQUcsS0FBQSw4QkFDQWlHLEVBQUEsOEJBQ0FwRyxFQUFBTSxLQUFBQyxJQUFBLElBQUFQLEVBQUFNLEtBQUFFLE1BQUEsSUFBQVIsRUFBQU0sS0FBQUcsS0FBQSxnRUFRQWhCLFVBRUEsSUFBQUksYUFBQUMsT0FBQSxDQUVBdUIsUUFBQUMsSUFBQSwrQkFFQSxJQUFBNkMsR0FBQXRFLGFBQUFDLE9BQ0FKLEVBQUFDLEtBQUFDLE1BQUF1RSxFQUVBekUsR0FBQUssUUFBQSxTQUFBQyxHQUNBLEdBQUFOLEVBQUFnRCxRQUFBMUMsSUFBQSxFQUFBLENBRUFxQixRQUFBQyxJQUFBLFFBRUEsSUFBQThFLEdBQUFwRyxFQUFBSSxLQUVBbkIsR0FBQSxrQkFBQWdCLE9BQUEsd0RBQ0FELEVBQUFFLEdBQUEsNENBRUFGLEVBQUFHLEtBQUEsNEJBQ0FpRyxFQUFBLDRCQUNBcEcsRUFBQU0sS0FBQUMsSUFBQSxJQUFBUCxFQUFBTSxLQUFBRSxNQUFBLElBQUFSLEVBQUFNLEtBQUFHLEtBQUEsMERBUUFoQixJQTZEQVIsRUFBQUUsR0FBQXFILE1BQUEsV0FDQW5ILEVBQUEsY0EyQ0FKLEVBQUEsZ0JBQUF3SCxNQUFBLFdBQ0E1RSxJQUNBUixRQUFBQyxJQUFBLGdCQTRCQXJDLEVBQUEsWUFBQXdILE1BQUEsV0FDQTVELE1BNkNBNUQsRUFBQUUsR0FBQXFILE1BQUEsV0FDQTVDLE1BaUJBM0UsRUFBQSxhQUFBb0YsR0FBQSxRQUFBLFdBQ0EsR0FBQXFDLEdBQUEvRyxLQUFBQyxNQUFBQyxhQUFBOEcsUUFBQSxnQkFDQUMsRUFBQWpILEtBQUFDLE1BQUFDLGFBQUE4RyxRQUFBLHNCQUVBRSxFQUFBNUgsRUFBQSxrQkFBQWtFLE1BQ0FZLEVBQUE5RSxFQUFBLGtCQUFBa0UsS0FHQXVELEdBQUE1QyxXQUFBK0MsR0FBQUgsRUFBQTNDLFdBQUFBLEdBQUE2QyxFQUFBOUMsV0FBQStDLEdBQUFELEVBQUE3QyxXQUFBQSxHQUNBMUMsUUFBQUMsSUFBQSxpQkFBQW9GLEVBQUE1QyxVQUdBcEMsSUFDQXpDLEVBQUEsYUFBQWtHLEtBQUEsd0JBQUF1QixFQUFBNUMsVUFLQXpFLEVBQUEsYUFFQWdDLFFBQUFDLElBQUFzRixFQUFBOUMsU0FBQThDLEVBQUE3QyxXQUlBMUMsUUFBQUMsSUFBQSxrQkFVQXJDLEVBQUEsY0FBQW9GLEdBQUEsUUFBQSxXQUVBLEdBQUF5QyxHQUFBN0gsRUFBQSxrQkFBQWtFLE1BQ0E0RCxFQUFBOUgsRUFBQSxrQkFBQWtFLE1BQ0E2RCxFQUFBL0gsRUFBQSxrQkFBQWtFLE1BQ0E4RCxFQUFBaEksRUFBQSxxQkFBQWtFLE1BQ0ErRCxFQUFBakksRUFBQSxxQkFBQWtFLE1BQ0FnRSxFQUFBbEksRUFBQSxxQkFBQWtFLE1BSUFpRSxHQUNBQyxNQUFBUCxFQUNBUSxNQUFBUCxFQUNBUSxNQUFBUCxFQUNBOUUsU0FBQStFLEVBQ0FPLFFBQUFOLEVBQ0FuRCxTQUFBb0QsRUFJQXRILGNBQUFtRSxRQUFBLG9CQUFBckUsS0FBQXNFLFVBQUFtRCxJQUVBL0YsUUFBQUMsSUFBQSxzQkFBQThGLEdBQ0EvSCxFQUFBLGVBV0FKLEVBQUEsWUFBQW9GLEdBQUEsUUFBQSxXQUNBcEIsSUFDQTVCLFFBQUFDLElBQUEsZ0JBSUFyQyxFQUFBLGNBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEsYUFDQWdDLFFBQUFDLElBQUEseUJBSUFyQyxFQUFBLGFBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEsWUFDQWdDLFFBQUFDLElBQUEseUJBS0FyQyxFQUFBLGVBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEsY0FDQWdDLFFBQUFDLElBQUEsc0JBS0FyQyxFQUFBLGFBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEsWUFDQWdDLFFBQUFDLElBQUEsd0JBSUFyQyxFQUFBLGlCQUFBb0YsR0FBQSxRQUFBLFdBQ0FoRixFQUFBLGdCQUNBZ0MsUUFBQUMsSUFBQSw0QkFJQXJDLEVBQUEsa0JBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEsa0JBQ0FnQyxRQUFBQyxJQUFBLDRCQUtBckMsRUFBQSxpQkFBQW9GLEdBQUEsUUFBQSxXQUNBaEYsRUFBQSxrQkFDQWdDLFFBQUFDLElBQUEsZ0JBSUE0QyxFQUFBeEIsUUFBQXdDLE1BRUFqRyxFQUFBLGdCQUFBd0ksTUFBQSxXQUNBcEcsUUFBQUMsSUFBQSxrQkFBQTRDLEVBQUFBLEVBQUEvQixHQUFBK0IsRUFBQTFCLFFBQ0EwQixFQUFBd0QsT0FBQSxFQUFBLEtBS0F6SSxFQUFBLGtCQUFBb0YsR0FBQSxRQUFBLFdBQ0FoRixFQUFBLHFCQUNBZ0MsUUFBQUMsSUFBQSw0QkFJQXJDLEVBQUEsaUJBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEsb0JBQ0FnQyxRQUFBQyxJQUFBLDJCQUlBckMsRUFBQSxtQkFBQW9GLEdBQUEsUUFBQSxXQUNBaEYsRUFBQSxzQkFDQWdDLFFBQUFDLElBQUEsNEJBSUFyQyxFQUFBLGdCQUFBd0ksTUFBQSxXQUNBeEksRUFBQWlHLE1BQUF5QyxTQUFBcEksT0FDQThCLFFBQUFDLElBQUEsNEJBTUFzRyxPQUFBMUksT0FBQUMiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuICBcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICBjb25zb2xlLmxvZygnc2NyaXB0LmpzIGluaXRpdGFsaXplZCcpO1xuICBcbiAgICAgIC8vSGlkZS9TaG93IC0gV2R3IFxuICAgICAgZnVuY3Rpb24gaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KHNXaW5kb3dJZCkge1xuICAgICAgICAkKCcud2R3JykuaGlkZSgpOyAvL2ZhZGVvdXQgNTAwIFxuICAgICAgICAkKCcjJyArIHNXaW5kb3dJZCkuc2hvdygpOyAvLyBmYWRlIGluIDUwMCBcbiAgICAgIH1cbiAgXG4gIFxuICBcbiAgICAgIC8vU3RvcmluZyBldmVudHMgXG4gICAgICB2YXIgYUV2ZW50cyA9IFtdOyBcbiAgXG4gICAgICAvL0NoZWtraW5nIGZvciBsb2NhbCBzdG9yYWdlIFxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5zRXZlbnRzKSB7XG4gICAgICAgIC8vIHJlYWQgdGhlIHRleHQgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxuICAgICAgICAvLyBjb252ZXJ0IHRoYXQgdGV4dCBpbnRvIGFuIG9iamVjdFxuICAgICAgICB2YXIgc0V2ZW50c0Zyb21Mb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2Uuc0V2ZW50czsgXG4gICAgICAgIGFFdmVudHMgPSBKU09OLnBhcnNlKHNFdmVudHNGcm9tTG9jYWxTdG9yYWdlKTsgICAgIFxuICAgICAgfVxuICBcbiAgXG4gICAgJChmdW5jdGlvbiAoKSB7IC8vUGVyZm9ybWFuY2UgaW4gaGVyZSAtLT4gbG9hZCBhc3luYyBmaXJzdCBwcmlvcml0eSBcbiAgICAgIC8vIEZhc3RTaGVsbFxuICAgIH0pO1xuICBcbiAgXG4gICBcbiAgXG4gIC8vQ3JlYXRlIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9BZGRzIGV2ZW50cyB0byBzZWFyY2ggLS0gc2NoZWR1bGUgY2FsZW5kYXIgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFFdmVudHMubGVuZ3RoOyBpKyspIHsgIC8vdGVtcGxhdGluZyBcbiAgICAgIC8vYXBwZW5kICBcbiAgICAgICQoJyNsYmxFdmVudHMnKS5hcHBlbmQoXG4gICAgICAgICc8dHI+JyArXG4gICAgICAgICc8dGggc2NvcGU9XCJyb3dcIj4nKyc8aDQ+JythRXZlbnRzW2ldLmlkKyc8L2g0PicrJzwvdGg+JytcbiAgICAgICAgJzx0ZD4nKyc8aDQ+JythRXZlbnRzW2ldLm5hbWUrJzwvaDQ+JysnPC90ZD4nK1xuICAgICAgICAvLyc8dGQgY2xhc3M9XCJldmVudFByaWNlXCI+JytldmVudFByaWNlQ2hhbmdlKyc8L3RkPicrXG4gICAgICAgICc8dGQ+PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L3RkPicrXG4gICAgICAgICc8L3RyPicpOyBcdFxuICAgICAgfVxuICBcbiAgXG4gICAgICAvL0FkZCBuZXcgRXZlbnRcbiAgICAkKCcjcG9zdGJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBcbiAgICAgIHZhciBzRXZlbnRJZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIHNJbWFnZVVybCA9ICQoJyNpbnB1dHBvc3RpbWcnKS52YWwoKTtcbiAgICAgIHZhciBzcG9zdGV2ZW50ID0gJCgnI2lucHV0cG9zdGV2ZW50JykudmFsKCk7XG4gICAgICB2YXIgc1Bvc3REZXNjID0gJCgnI2lucHV0cG9zdGRlc2MnKS52YWwoKTtcbiAgICAgIHZhciBzUG9zdExvY2F0aW9uID0gJCgnI2lucHV0cG9zdGxvY2F0aW9uJykudmFsKCk7IFxuICAgICAgdmFyIHNMaW5rID0gJ2xpbmsnO1xuICBcbiAgICAgIC8vY29uc29sZS5sb2coc0ltYWdlVXJsICsgc3Bvc3R0aXRlbCArIHNQb3N0RGVzYyArIHNQb3N0TG9jYXRpb24pO1xuICAgICAgLy9CZWZvcmUgLmNhbGVuZGFyLWJhY2sgXG4gICAgICAkKCcjbGJsRXZlbnRzJykuYXBwZW5kKFxuICAgICAgICAnPHRyPicgKyBcbiAgICAgICAgICAnPHRkPicrc3Bvc3RldmVudCsnPC90ZD4nK1xuICAgICAgICAgICc8dGQ+JytzUG9zdExvY2F0aW9uKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD4nK3NFdmVudElkKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD4nK3NMaW5rKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvdGQ+JytcbiAgICAgICAgJzwvdHI+Jyk7XG4gIFxuICAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctY2FsZW5kYXInKTtcbiAgXG4gIFxuICAgICAgdmFyIGpFdmVudCA9IHt9O1xuICAgICAgakV2ZW50LmlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICBqRXZlbnQuaW1hZ2VVcmwgPSBzSW1hZ2VVcmw7XG4gICAgICBqRXZlbnQucG9zdGV2ZW50ID0gc3Bvc3RldmVudDtcbiAgICAgIGpFdmVudC5Qb3N0RGVzYyA9IHNQb3N0RGVzYztcbiAgICAgIGpFdmVudC5zUG9zdExvY2F0aW9uID0gc1Bvc3RMb2NhdGlvbjtcbiAgICAgIGFFdmVudHMucHVzaChqRXZlbnQpO1xuICAgICAgLy9jb25zb2xlLmxvZyhhRXZlbnRzKTtcbiAgICAgIC8vU2F2ZSB0byBMb2NhbCBzdG9yYWdlXG4gICAgICB2YXIgc0ZpbmFsRXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoYUV2ZW50cyk7XG4gICAgICAvL3VwZGF0ZSB0aGUgc0V2ZW50cyB0byBsb2NhbCB0ZXh0XG4gICAgICBsb2NhbFN0b3JhZ2Uuc0V2ZW50cyA9IHNGaW5hbEV2ZW50cztcbiAgXG4gICAgICAvL1JlYWQgZnJvbSBsb2NhbHN0b3JhZ2UgYW5kIHVwZGF0ZSBvbiBsb2FkIHRoZSBzZWFyY2ggY2FsZW5kYXIgd2l0aG8gYmJqZWN0cyBcbiAgICB9KTtcbiAgXG4gIFxuICAgICQoJyNsYmxFdmVudHMgZGl2JykuZWFjaChmdW5jdGlvbiggaW5kZXggKSB7XG4gICAgICBjb25zb2xlLmxvZyggaW5kZXggKyAnOiAnICsgJCh0aGlzKS50ZXh0KCkpO1xuICAgICAgJCh0aGlzKS5jc3M7XG4gICAgfSk7XG4gICAgICBcblxuICBcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8vRnVuY3Rpb25zIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgXG5cblxuICAgIC8vTmV3IFVwZGF0ZWQgU2VhcmNoIGZlYXR1cmUgXG5cbiAgICAkKCcjc2VhcmNoRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy9nZXQgaW5wdXQgdmFsdWUgb2YgI3NlYXJjaC1lbmdpbmVcbiAgICAgIHZhciBpbnB1dFNlYXJjaEZpZWxkID0gICQoJyNzZWFyY2hmcm9udCcpLnZhbCgpO1xuICAgICAgdmFyIGFJbnB1dCA9IGlucHV0U2VhcmNoRmllbGQuc3BsaXQoXCIgXCIpO1xuICAgICAgdmFyIGpSZXN1bHRzID0gW107XG5cbiAgICAgIGNvbnNvbGUubG9nKGFJbnB1dCk7XG4gICAgICAvL1N0b3AgXG5cbiAgICAgIC8vZ2V0IGluc3RhbmNlIG9mIGxvY2FsU3RvcmFnZSAgIC8vTUlzc2luZyBwdXQgZmlndXJlIGNhcCBpbnRvIGxvY2Fsc3RvcmFnZSBcbiAgICAgIHZhciBqVGVtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmV2ZW50cyk7XG4gICAgICBcbiAgICAgIC8vY2hlY2sgZWFjaCBhSW5wdXQgZm9yIGEgbWF0Y2hcbiAgICAgIGFJbnB1dC5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcblxuICAgICAgICB2YXIgdGVtcCA9IGE7XG5cbiAgICAgICAgalRlbXAuZm9yRWFjaChmdW5jdGlvbihqKXtcblxuICAgICAgICAgIHZhciBuYW1lID0gai5uYW1lO1xuICAgICAgICAgIHZhciB0b3BpYyA9IGoudG9waWM7XG4gICAgICAgICAgdmFyIGxldmVsID0gai5sZXZlbDtcbiAgICAgICAgICB2YXIgb3JnID0gai5zcGVha2VyX29yZ2FuaXphdGlvbjtcbiAgICAgICAgICB2YXIgbG9jYXRpb24gPSBqLmxvY2F0aW9uO1xuXG4gICAgICAgICAgY29tcGFyZSh0ZW1wLCBuYW1lLCBqLCBqUmVzdWx0cyk7XG4gICAgICAgICAgLy9jb21wYXJlKHRlbXAsIHRvcGljLCBqLCBqUmVzdWx0cyk7IC8vdGhpcyBpcyBhbiBhcnJheVxuICAgICAgICAgIGNvbXBhcmUodGVtcCwgbGV2ZWwsIGosIGpSZXN1bHRzKTtcbiAgICAgICAgICBjb21wYXJlKHRlbXAsIG9yZywgaiwgalJlc3VsdHMpO1xuICAgICAgICAgIC8vY29tcGFyZSh0ZW1wLCBsb2NhdGlvbiwgaiwgalJlc3VsdHMpOyAvL3RoaXMgaXMgYSBKU09OIG9iamVjdFxuXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vcmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICAgIGNvbnNvbGUubG9nKGpSZXN1bHRzKTtcblxuICAgICAgdmFyIGpSZXN1bHRzRmluYWwgPSBqUmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oZWxlbSwgaW5kZXgsIHNlbGYpIHtcbiAgICAgIHJldHVybiBpbmRleCA9PSBzZWxmLmluZGV4T2YoZWxlbSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coalJlc3VsdHNGaW5hbCk7XG5cbiAgICAgIC8vY2xlYXIgZGVmYXVsdCBpdGVtcyBmcm9tIFxuICAgICAgJCgnI2V2ZW50LWxpc3RpbmcnKS5lbXB0eSgpO1xuXG4gICAgICB2YXIgYmFzZU51bWJlciA9IGpSZXN1bHRzRmluYWwubGVuZ3RoIC8gMztcbiAgICAgIGNvbnNvbGUubG9nKCdUaGUgYmFzZSBudW1iZXIgaXM6ICcgKyBiYXNlTnVtYmVyKTtcblxuICAgICAgLy9hcHBlbmQgdG8gRE9NXG4gICAgICBqUmVzdWx0c0ZpbmFsLmZvckVhY2goZnVuY3Rpb24oaikge1xuICAgICAgICB2YXIgYVRvcGljcyA9IGoudG9waWM7XG5cbiAgICAgICAgY29uc29sZS5sb2coalJlc3VsdHNGaW5hbC5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLmxvZyhqLm5hbWUpO1xuXG4gICAgICAgIC8vZ2V0IGFuIGluc3RhbmNlIG9mIGFuIGV2ZW50IGFuZCBhcHBlbmQgaXQgdG8gdGhlIERPTS4uXG4gICAgICAgICQoJyNldmVudC1saXN0aW5nJykuYXBwZW5kKCdcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LXRoaXJkc1wiIGRhdGEtZXZlbnQtaWQ9XCInICsgai5pZCArICdcIj5cXFxuICAgICAgICAgICAgICA8ZGl2PlxcXG4gICAgICAgICAgICAgICAgPGgxPicgKyBqLm5hbWUgKyAnPC9oMT5cXFxuICAgICAgICAgICAgICAgIDxoMj4nICsgYVRvcGljcyArICc8L2gyPlxcXG4gICAgICAgICAgICAgICAgPGg1PicgKyBqLmRhdGUuZGF5ICsgJy0nICsgai5kYXRlLm1vbnRoICsgJy0nICsgai5kYXRlLnllYXIgKyAnPC9oNT5cXFxuICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAnKTtcblxuXG4gICAgICB9KTtcbiAgfSk7IC8vRW5kIG5ldyBzZWFyY2ggZmVhdHVyZSBcblxuXG5cbiAgaWYgKGxvY2FsU3RvcmFnZS5ldmVudHMgPT0gbnVsbCkge1xuICAgIC8vaW1wb3J0IGRhdGEgZnJvbSBkYXRhL2V2ZW50cy5qc29uXG4gICAgLy9pbnB1dCBpbnRvIGxvY2FsU3RvcmFnZS5ldmVudHNcbiAgICAvL2pzb24gZmlsZSB3aWxsIGFsd2F5cyBoYXZlIGRhdGEsIHdoaWNoIGlzIHdoeSB0aGlzIG1ldGhvZCB3aWxsIGFsd2F5cyB3b3JrIVxuICAgIGNvbnNvbGUubG9nKCdsb2NhbFN0b3JhZ2UuZXZlbnRzIGlzIGVtcHR5Jyk7XG4gICAgJC5nZXRKU09OKCdhc3NldHMvZGF0YS9ldmVudHMuanNvbicpLmRvbmUoIGZ1bmN0aW9uKGpEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhqRGF0YSk7XG4gICAgICAvL3B1dCB0aGUgakRhdGEgb2JqZWN0cyBpbnRvIGxvY2FsU3RvcmFnZVxuICAgICAgdmFyIHNEYXRhID0gSlNPTi5zdHJpbmdpZnkoakRhdGEpO1xuICAgICAgbG9jYWxTdG9yYWdlLmV2ZW50cyA9IHNEYXRhO1xuICAgICAgY29uc29sZS5sb2coJ2xvY2FsU3RvcmFnZS5ldmVudHMgc3VjY2Vzc2Z1bGx5IHBvcHVsYXRlZCcpO1xuXG4gICAgICB2YXIgc0V2ZW50cyA9IGxvY2FsU3RvcmFnZS5ldmVudHM7XG4gICAgICB2YXIgakV2ZW50cyA9IEpTT04ucGFyc2Uoc0V2ZW50cyk7XG5cbiAgICAgIGpFdmVudHMuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICAgIGlmIChqRXZlbnRzLmluZGV4T2YoaikgPD0gOSkge1xuICAgICAgICAgIC8vc3RhcnRcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuXG4gICAgICAgICAgdmFyIGFUb3BpY3MgPSBqLnRvcGljO1xuXG4gICAgICAgICAgJCgnI2V2ZW50LWxpc3RpbmcnKS5hcHBlbmQoJ1xcXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJldmVudC10aGlyZHNcIiBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcbiAgICAgICAgICAgICAgICA8ZGl2PlxcXG4gICAgICAgICAgICAgICAgICA8aDE+JyArIGoubmFtZSArICc8L2gxPlxcXG4gICAgICAgICAgICAgICAgICA8aDI+JyArIGFUb3BpY3MgKyAnPC9oMj5cXFxuICAgICAgICAgICAgICAgICAgPGg1PicgKyBqLmRhdGUuZGF5ICsgJy0nICsgai5kYXRlLm1vbnRoICsgJy0nICsgai5kYXRlLnllYXIgKyAnPC9oNT5cXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgJyk7XG4gICAgICAgICAgLy9lbmRcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGluaXRQb3BEYXRhKCk7IC8vcG9wdWxhdGUgZGF0YSBpbiBldmVudC1tYW5hZ2VtZW50IHRhYmxlXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmV2ZW50cykge1xuICAgIC8vbG9hZCBldmVyeXRoaW5nIGZyb20gbG9jYWxzdG9yYWdlIGFuZCBwb3B1bGF0ZSB0aGUgZGl2IHdpdGggZGF0YS4uXG4gICAgY29uc29sZS5sb2coXCJsb2NhbFN0b3JhZ2UuZXZlbnRzIGhhcyBkYXRhXCIpO1xuICAgIFxuICAgIHZhciBzRXZlbnRzID0gbG9jYWxTdG9yYWdlLmV2ZW50cztcbiAgICB2YXIgakV2ZW50cyA9IEpTT04ucGFyc2Uoc0V2ZW50cyk7XG5cbiAgICBqRXZlbnRzLmZvckVhY2goZnVuY3Rpb24oaikge1xuICAgICAgaWYgKGpFdmVudHMuaW5kZXhPZihqKSA8PSA5KSB7XG4gICAgICAgIC8vc3RhcnRcbiAgICAgICAgY29uc29sZS5sb2coXCJ3b3Jrc1wiKTtcblxuICAgICAgICB2YXIgYVRvcGljcyA9IGoudG9waWM7XG5cbiAgICAgICAgJCgnI2V2ZW50LWxpc3RpbmcnKS5hcHBlbmQoJ1xcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXZlbnQtdGhpcmRzXCIgZGF0YS1ldmVudC1pZD1cIicgKyBqLmlkICsgJ1wiPlxcXG4gICAgICAgICAgICAgIDxkaXY+XFxcbiAgICAgICAgICAgICAgICA8aDE+JyArIGoubmFtZSArICc8L2gxPlxcXG4gICAgICAgICAgICAgICAgPGgyPicgKyBhVG9waWNzICsgJzwvaDI+XFxcbiAgICAgICAgICAgICAgICA8aDU+JyArIGouZGF0ZS5kYXkgKyAnLScgKyBqLmRhdGUubW9udGggKyAnLScgKyBqLmRhdGUueWVhciArICc8L2g1PlxcXG4gICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAnKTtcbiAgICAgICAgLy9lbmRcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGluaXRQb3BEYXRhKCk7XG4gIH1cblxuXG4gIFxuXG4gIGZ1bmN0aW9uIGluaXRQb3BEYXRhKCkge1xuICAgIC8vc2luY2UgbG9jYWxzdG9yYWdlIHdpbGwgYWx3YXlzIGhhdmUgdmFsdWVzLFxuICAgIC8vYXBwZW5kIGFsbCBvZiBsb2NhbHN0b3JhZ2UncyBjb250ZW50IHRvIHRoZSBjb3JyZXNwb25kaW5nIHRhYmxlXG4gICAgdmFyIGpFdmVudHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xuICAgIGpFdmVudHMuZm9yRWFjaCggZnVuY3Rpb24oaikge1xuICAgICAgJCgnI2V2ZW50LWxpc3RpbmcgdGJvZHknKS5hcHBlbmQoJzx0ciBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLm5hbWUgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGoudG9waWMgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGouc3BlYWtlciArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai5kYXRlLmRheSArICcgJyArIGouZGF0ZS5tb250aCArICcgJyArIGouZGF0ZS55ZWFyICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLnRpbWVfMjRoLmhvdXIgKyAnOicgKyBqLnRpbWVfMjRoLm1pbnV0ZSArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgaWQ9XCJlZGl0LWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgaWQ9XCJkZWxldGUtZXZlbnQtaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxcXG5cdFx0XHQnKTtcbiAgICB9KTtcbiAgfVxuXG5cblxuICBmdW5jdGlvbiBjb21wYXJlKGlucHV0VmFsLCBkYXRhVmFsLCBqT2JqLCBqRGF0YSkge1xuICAgIHZhciBpbnB1dFZhbExvd2VyID0gaW5wdXRWYWwudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgZGF0YVZhbExvd2VyID0gZGF0YVZhbC50b0xvd2VyQ2FzZSgpO1xuICBcbiAgICBjb25zb2xlLmxvZygnVGhlIGlucHV0IHZhbHVlIGlzOiAnICsgaW5wdXRWYWxMb3dlcik7XG4gICAgY29uc29sZS5sb2coJ1RoZSBKU09OIGRhdGEgdG8gY29tcGFyZSBpczogJyArIGRhdGFWYWxMb3dlcik7XG4gIFxuICAgIHZhciBib29sID0gZGF0YVZhbExvd2VyLmluY2x1ZGVzKGlucHV0VmFsTG93ZXIpO1xuICAgIGNvbnNvbGUubG9nKCdUaGUgYm9vbCA9ICcgKyBib29sKTtcbiAgXG4gICAgICBpZiAoYm9vbCA9PSB0cnVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNYXRjaCBtYWRlJyk7XG4gICAgICAgIGpEYXRhLnB1c2goak9iaik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnRmFsc2UnKTtcbiAgICAgIH1cbiAgfVxuICBcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgXG4gIFxuICAvL29uIGxvYWRcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWhvbWUnKTsgXG4gIH0pO1xuICBcbiAgXG4gIGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7XG4gICAgLy9pZihsb2NhbFN0b3JhZ2UudXNlckNyZWRzKXtcbiAgICAkKCcjbGlua1JlZ2lzdGVyJykuZmFkZU91dCg1MDApO1xuICAgICQoJyNsaW5rTG9naW4nKS5mYWRlT3V0KDUwMCk7XG4gICAgJCgnI2xpbmtMb2dvdXQnKS5mYWRlSW4oNTAwKTtcbiAgICAgLy99XG4gIH1cbiAgXG4gIC8vZnVuYyBsb2dvdXQgXG4gIFxuICBcbiAgZnVuY3Rpb24gc2VhcmNoRXZlbnRzSG9tZSgpIHtcbiAgICB2YXIgaW5wdXQsIGZpbHRlciwgZmlnY2xhc3MgLCBmaWdjYXAgLGxvY2F0aW9uLGk7XG4gIFxuICAgIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaGZyb250Jyk7XG4gICAgZmlsdGVyID0gaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKTsgXG4gICAgZmlnY2xhc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWZmZWN0LW1pbG8nKTsgXG4gICAgZmlnY2FwID0gZmlnY2xhc3MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xvY2F0aW9uJyk7XG5cbiAgICBjb25zb2xlLmxvZyhmaWdjYXApO1xuICAgIC8vTG9vcCB0aHJvdWdoIGFsbCBmaWcgY2FwdGlvbnMgYW5kIGhpZGUvc2hvd1xuICAgIGZvcihpID0gMDsgaSA8ICBmaWdjYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxvY2F0aW9uID0gZmlnY2FwW2ldLmdldEVsZW1lbnRCeUlkKCdzcGFuJylbMF07XG4gICAgICBjb25zb2xlLmxvZyhsb2NhdGlvbik7XG4gICAgICBjb25zb2xlLmxvZyhmaWdjYXBbaV0gKyBmaWdjYXApO1xuICBcbiAgICAgIGlmKGxvY2F0aW9uKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbi5pbm5lckhUTUwudG9VcHBlckNhc2UoKS5pbmRleE9mKGZpbHRlcikgPiAtMSkge1xuICAgICAgICAgIGZpZ2NhcFtpXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgY29uc29sZS5sb2coZmlnY2FwW2ldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaWdjYXBbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICBjb25zb2xlLmxvZyhmaWdjYXBbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBcbiAgfVxuICBcbiAgJCgnI3NlYXJjaGZyb250Jykua2V5dXAoZnVuY3Rpb24oKSB7XG4gICAgc2VhcmNoRXZlbnRzSG9tZSgpO1xuICAgIGNvbnNvbGUubG9nKCdzZWFyY2hpZ24sJyk7XG4gIH0pO1xuICBcbiAgLy9TZXJhY2ggRXZlbnRzIER5bmFtaWNpYWx5IFxuICBmdW5jdGlvbiBzZWFyY2hFdmVudHMoKSB7XG4gICAgLy8gRGVjbGFyZSB2YXJpYWJsZXMgXG4gICAgdmFyIGlucHV0LCBmaWx0ZXIsIHRhYmxlLCB0ciwgdGQsIGk7XG4gICAgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlJbnB1dCcpO1xuICAgIGZpbHRlciA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gICAgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlUYWJsZScpO1xuICAgIHRyID0gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RyJyk7XG4gIFxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGFibGUgcm93cywgYW5kIGhpZGUgdGhvc2Ugd2hvIGRvbid0IG1hdGNoIHRoZSBzZWFyY2ggcXVlcnlcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgXG4gICAgICB0ZCA9IHRyW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZCcpWzBdO1xuICAgICAgaWYgKHRkKSB7XG4gICAgICAgIGlmICh0ZC5pbm5lckhUTUwudG9VcHBlckNhc2UoKS5pbmRleE9mKGZpbHRlcikgPiAtMSkge1xuICAgICAgICAgIHRyW2ldLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cltpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICB9IFxuICAgIH1cbiAgfVxuICBcbiAgXG4gIC8vU2VhcmNoIFRocm91Z2ggVGFibGUgLT4gXG4gICQoJyNteUlucHV0Jykua2V5dXAoZnVuY3Rpb24oKSB7XG4gICAgc2VhcmNoRXZlbnRzKCk7XG4gIH0pO1xuICBcbiAgXG4gIC8qXG4gIGZ1bmN0aW9uIGNyZWF0ZVBvc3QoKSB7IC8vVGFrZXMgb2JqZWN0ICBQb3N0IFxuICAvKlxuICAgICQoJyN3ZHctYWxsLWV2ZW50cycpLmVtcHR5KCk7IFxuICAgIHZhciBzUG9zdFRlbXBsYXRlID0gXG4gICAgJzxkaXYgY2xhc3M9XCJncmlkX2pvYlwiPjxmaWd1cmUgY2xhc3M9XCJlZmZlY3QtbWlsb1wiIGlkPVwiZmlndXJlMVwiPlxcXG4gICAgIDxpbWcgY2xhc3M9XCJmZWF0dXJlZC1jb21wYW55X19pbWFnZVwiIHNyYz1cIiR7UG9zdC5pbWd9XCIgYWx0PVwiXCI+PGZpZ2NhcHRpb24+XFxcbiAgICAgPGgyPiR7UG9zdC50aXRsZX0gPHNwYW4+ICR7UG9zdC5sb2NhdGlvbn0gPC9zcGFuPlxcXG4gICAgIDwvaDI+PHA+JHtkZXNjfTwvcD48YSBocmVmPVwiI1wiPlZpZXcgbW9yZTwvYT48L2ZpZ2NhcHRpb24+PC9maWd1cmU+PC9kaXY+XFxcbiAgICAgJztcbiAgXG4gICAgICQoJyN3ZC1hbGwtZXZlbnRzJykuYXBwZW5kKHNQb3N0VGVtcGxhdGUpO1xuICBcbiAgICBcbiAgfVxuICAqL1xuICBcbiAgXG4gIGZ1bmN0aW9uIGdldFBvc3QoKSB7XG4gICAgdmFyIHNJbWFnZVVybCA9ICQoJyNpbnB1dHBvc3RpbWcnKS52YWwoKTtcbiAgICB2YXIgc3Bvc3R0aXRlbCA9ICQoJyNpbnB1dHBvc3R0aXRlbCcpLnZhbCgpO1xuICAgIHZhciBzUG9zdERlc2MgPSAkKCcjaW5wdXRwb3N0ZGVzYycpLnZhbCgpO1xuICAgICAgdmFyIHNQb3N0TG9jYXRpb24gPSAkKCcjaW5wdXRwb3N0bG9jYXRpb24nKS52YWwoKTsgXG4gIFxuICAgIC8vY29uc29sZS5sb2coc0ltYWdlVXJsICsgc3Bvc3R0aXRlbCArIHNQb3N0RGVzYyArIHNQb3N0TG9jYXRpb24pO1xuICAgIFxuICAgIHZhciBQb3N0ID0ge1xuICAgICAgJ3Bvc3RpbWFnZXVybCc6c0ltYWdlVXJsLFxuICAgICAgJ3Bvc3R0aXRlbCc6IHNwb3N0dGl0ZWwsXG4gICAgICAncG9zdGRlc2MnOiBzUG9zdERlc2MsXG4gICAgICAncG9zdGxvYyc6IHNQb3N0TG9jYXRpb25cbiAgICB9O1xuICBcbiAgICAvL0RpdiBhcHBlbmQgXG4gICAgY29uc29sZS5sb2coUG9zdCk7XG4gICAgXG4gIFxuICAgIC8vQ29udmVydHMgdG8gb2JqZWN0cyAgXG4gIH1cbiAgXG4gIFxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBsb2dpbkFkbWluKCk7XG4gIH0pO1xuICBcbiAgZnVuY3Rpb24gbG9naW5BZG1pbigpIHtcbiAgICAgIHZhciB1c2VyQ3JlZHNBZG1pbiA9IHtcbiAgICAgICd1c2VybmFtZSc6ICd1c2VybmFtZScsXG4gICAgICAncGFzc3dvcmQnOiAncGFzc3dvcmQnXG4gICAgfTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbHMnLCBKU09OLnN0cmluZ2lmeSh1c2VyQ3JlZHNBZG1pbikpOyBcdFx0IFxuICB9XG4gIFxuICBcbiAgXG4gICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAvL0xvZ2luIG9uIHBhZ2UgIFxuICAgIC8vQXV0aGVudGljYXRpb24gaXMgbWlzc2luZyAtIGFkbWluIC0gbWVtYmVyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovIFxuICAkKCcjbG9naW5idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgY3JlZGVudGlhbHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcmVkZW50aWFscycpKTsgXG4gICAgdmFyIGNyZWRlbnRpYWxzTWVtYmVyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3JlZGVudGlhbHNNZW1iZXInKSk7IFxuICBcbiAgICB2YXIgdXNlcm5hbWVJbnB1dCA9ICQoJyNpbnB1dHVzZXJuYW1lJykudmFsKCk7XG4gICAgdmFyIHBhc3N3b3JkICA9ICQoJyNpbnB1dHBhc3N3b3JkJykudmFsKCk7XG4gICAgLy9jb25zb2xlLmxvZyh1c2VybmFtZUlucHV0ICsgcGFzc3dvcmQpO1xuICBcbiAgICBpZihjcmVkZW50aWFscy51c2VybmFtZSA9PT0gdXNlcm5hbWVJbnB1dCAmJiBjcmVkZW50aWFscy5wYXNzd29yZCA9PT0gcGFzc3dvcmQgfHwgY3JlZGVudGlhbHNNZW1iZXIudXNlcm5hbWUgPT09IHVzZXJuYW1lSW5wdXQgJiYgY3JlZGVudGlhbHNNZW1iZXIucGFzc3dvcmQgPT09IHBhc3N3b3JkICkge1xuICAgICAgIGNvbnNvbGUubG9nKCdXZWxjb21lIE1yLiAgICcgKyBjcmVkZW50aWFscy51c2VybmFtZSk7XG4gICAgICAgXG4gICAgICAvLyBsb2NhbFN0b3JhZ2UubG9nZ2VkSW5Vc2VyID0gSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbHMpO1xuICAgICAgIGlzTG9nZ2VkSW4oKTtcbiAgICAgICAkKCcuYnJhbmQgaDEnKS50ZXh0KCdMb2dnZWQgaW4gYXMgQWRtaW4gJyArICcjICcgKyBjcmVkZW50aWFscy51c2VybmFtZSk7XG4gICAgICAgICBcbiAgXG4gICAgICAvLyBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1yZWdpc3Rlci1tZW1iZXInKTtcbiAgICAgIFxuICAgICAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1pbmRleCcpO1xuICBcbiAgICAgICAgY29uc29sZS5sb2coY3JlZGVudGlhbHNNZW1iZXIudXNlcm5hbWUgKyBjcmVkZW50aWFsc01lbWJlci5wYXNzd29yZCk7XG4gICAgICAgIFxuICAgICAgICAvLyAkKCcuYnJhbmQgaDEnKS50ZXh0KCdMb2dnZWQgaW4gYXMgTWVtYmVyJyArICcgIyAnICsgY3JlZGVudGlhbHNNZW1iZXIudXNlcm5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnZmFpbGVkIGxvZ2luJyk7XG4gICAgfVxuICBcbiAgXG4gIH0pO1xuICBcbiAgXG4gICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAvL1JlZ2lzdGVyIHVzZXIgb24gcGFnZSBcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgJCgnI21lbWJlcmJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBcbiAgICB2YXIgaW5wdXRmbmFtZSA9ICQoJyNpbnB1dGZuYW1lcmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0bG5hbWUgPSAkKCcjaW5wdXRsbmFtZXJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dGVtYWlsID0gJCgnI2lucHV0ZW1haWxyZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXRsb2NhdGlvbiA9ICQoJyNpbnB1dGxvY2F0aW9ucmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0dXNlcm5hbWUgPSAkKCcjaW5wdXR1c2VybmFtZXJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dHBhc3MgPSAkKCcjaW5wdXRwYXNzd29yZHJlZycpLnZhbCgpO1xuICBcbiAgICAvL2NvbnNvbGUubG9nKCdOZXcgUmVnaXN0ZXJkIHVzZXIgPSAgJyArIGlucHV0dXNlcm5hbWUpO1xuICBcbiAgICB2YXIgdXNlckNyZWRzID0ge1xuICAgICAgJ2ZuYW1lJyA6IGlucHV0Zm5hbWUsXG4gICAgICAnbG5hbWUnOiBpbnB1dGxuYW1lLFxuICAgICAgJ2VtYWlsJzppbnB1dGVtYWlsLFxuICAgICAgJ2xvY2F0aW9uJzppbnB1dGxvY2F0aW9uLFxuICAgICAgJ3VzZXJuYW0nOiBpbnB1dHVzZXJuYW1lLFxuICAgICAgJ3Bhc3N3b3JkJzogaW5wdXRwYXNzLFxuICAgICAgXG4gICAgfTtcbiAgXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyZWRlbnRpYWxzTWVtYmVyJywgSlNPTi5zdHJpbmdpZnkodXNlckNyZWRzKSk7IFxuICBcbiAgICBjb25zb2xlLmxvZygnTG9jYWwgU3RvcmFnZSBzdG9yZScsIHVzZXJDcmVkcyk7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbG9naW4nKTtcbiAgXG4gIH0pOyBcbiAgXG4gIFxuICBcbiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8vRXZlbnQgTGlzdGVuZXJzIFxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBcbiAgICAvL1Bvc3RcbiAgICAkKCcjcG9zdGJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgZ2V0UG9zdCgpOyBcbiAgICBjb25zb2xlLmxvZygncG9zdCBldmVudCcpO1xuICAgIH0pO1xuICBcbiAgLy9OYXYgLSBMb2dpbiBcbiAgJCgnI2xpbmtMb2dpbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1sb2dpbicpO1xuICAgICAgY29uc29sZS5sb2coJ05hdiAtIGxvZ2luIGNsaWNrZWQnKTtcbiAgfSk7XG4gIFxuICAvL05hdiAtIEhvbWUgXG4gICQoJyNsaW5rSG9tZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWhvbWUnKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gSG9tZSBDbGlja2VkICcpO1xuICB9KTtcbiAgXG4gIFxuICAvL05hdiAtIEV2ZW50XG4gICQoJyNsaW5rRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctZXZlbnRzJyk7XG4gICAgY29uc29sZS5sb2coJ05hdiAtIExpbmsgRXZlbnQnKTtcbiAgfSk7XG4gIFxuICBcbiAgLy9OYXYgLSBOZXdzIFxuICAkKCcjbGlua05ld3MnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1uZXdzJyk7XG4gICAgY29uc29sZS5sb2coJ05hdiAtIE5ld3MgY2xpY2tlZCcpO1xuICB9KTtcbiAgXG4gIC8vTmF2IC0gQ2FsZW5kYXIgXG4gICQoJyNsaW5rQ2FsZW5kYXInKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1jYWxlbmRhcicpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBDYWxlbmRhciBjbGlja2VkJyk7XG4gIH0pO1xuICBcbiAgLy9OYXYgLSBBbGwgRXZlbnRzIFxuICAkKCcjbGlua0FsbEV2ZW50cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWFsbC1ldmVudHMnKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gYWxsIGV2ZW50cyBjbGljaycpO1xuICB9KTtcbiAgXG4gIFxuICAvL1BhZ2UgLSBQb3N0IGFuIGV2ZW50IFxuICAkKCcjYnRucG9zdGV2ZW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctcG9zdC1ldmVudCcpO1xuICAgIGNvbnNvbGUubG9nKCdQb3N0Y2xpY2tlJyk7XG4gIH0pO1xuICBcbiAgLy9SZW1vdmUgRXZlbnRcbiAgYUV2ZW50cy5pbmRleE9mKHRoaXMpOyBcbiAgXG4gICQoJy5mYS1mYS10cmFzaCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdUcmFzaGVkIGNsaWNrZWQnLCBhRXZlbnRzLCBhRXZlbnRzW2ldLCBhRXZlbnRzLmxlbmd0aCk7XG4gICAgYUV2ZW50cy5zcGxpY2UoMSwxKTtcbiAgfSk7XG5cblxuICAvL01hbmFnZSBFdmVudHMgXG4gICQoJyNtYW5hZ2UtZXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbWFuYWdlLWV2ZW50cycpO1xuICAgIGNvbnNvbGUubG9nKCdtYW5hZ2UgZXZlbnRzIGNsaWNrZWQgJyk7XG4gIH0pO1xuICBcbiAgLy9NYW5hZ2UgdXNlcnMgXG4gICQoJyNtYW5hZ2UtdXNlcnMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1tYW5hZ2UtdXNlcnMnKTtcbiAgICBjb25zb2xlLmxvZygnbWFuYWdlIHVzZXJzIGNsaWNrZWQgJyk7XG4gIH0pO1xuXG4gIC8vIE1hbmFnZSBtZW1iZXJzIFxuICAkKCcjbWFuYWdlLW1lbWJlcnMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1tYW5hZ2UtbWVtYmVycycpOyBcbiAgICBjb25zb2xlLmxvZygnbWFuYWdlLW1lbWJlcnMgY2xpY2tlZCcpO1xuICB9KTtcblxuICAvL1RyYXNoIERlbGV0ZSBzZWFyY2ggZXZlbnRzXG4gICQoJy5mYS1mYS10cmFzaCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykucGFyZW50KCkuaGlkZSgpO1xuICAgIGNvbnNvbGUubG9nKCdUcmFzaCBkZWxldGUgY2xpY2tlZCAnKTtcbiAgfSk7XG4gIFxuICBcbiAgXG4gIFxuICB9KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuICAiXX0=
