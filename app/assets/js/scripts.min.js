/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
!function(t,e,n,o){"use strict";function a(e){t(".wdw").hide(),t("#"+e).show()}function l(){var e=JSON.parse(localStorage.events);e.forEach(function(e){t("#event-listing tbody").append('<tr data-event-id="'+e.id+'">\t\t\t\t\t\t\t\t\t\t<td>'+e.name+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.topic+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.speaker+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.date.day+" "+e.date.month+" "+e.date.year+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.time_24h.hour+":"+e.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t')})}function i(t,e,n,o){var a=t.toLowerCase(),l=e.toLowerCase();console.log("The input value is: "+a),console.log("The JSON data to compare is: "+l);var i=l.includes(a);console.log("The bool = "+i),1==i?(console.log("Match made"),o.push(n)):console.log("False")}function s(){t("#linkRegister").fadeOut(500),t("#linkLogin").fadeOut(500),t("#linkLogout").fadeIn(500)}function c(){var t,e,o,a,l,i;for(t=n.getElementById("searchfront"),e=t.value.toUpperCase(),o=n.getElementById("effect-milo"),a=o.getElementsByTagName("location"),console.log(a),i=0;i<a.length;i++)l=a[i].getElementById("span")[0],console.log(l),console.log(a[i]+a),l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?(a[i].style.display="",console.log(a[i])):(a[i].style.display="none",console.log(a[i])))}function d(){var t,e,o,a,l,i;for(t=n.getElementById("myInput"),e=t.value.toUpperCase(),o=n.getElementById("myTable"),a=o.getElementsByTagName("tr"),i=0;i<a.length;i++)l=a[i].getElementsByTagName("td")[0],l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?a[i].style.display="":a[i].style.display="none")}function r(){var e=t("#inputpostimg").val(),n=t("#inputposttitel").val(),o=t("#inputpostdesc").val(),a=t("#inputpostlocation").val(),l={postimageurl:e,posttitel:n,postdesc:o,postloc:a};console.log(l)}function g(){var t={username:"username",password:"password"};localStorage.setItem("credentials",JSON.stringify(t))}var v=[];if(localStorage.sEvents){var u=localStorage.sEvents;v=JSON.parse(u)}t(function(){});for(var p=0;p<v.length;p++)t("#lblEvents").append('<tr><th scope="row"><h4>'+v[p].id+"</h4></th><td><h4>"+v[p].name+'</h4></td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>');if(t("#postbtn").on("click",function(){var e=(new Date).getTime(),n=t("#inputpostimg").val(),o=t("#inputpostevent").val(),l=t("#inputpostdesc").val(),i=t("#inputpostlocation").val(),s="link";t("#lblEvents").append("<tr><td>"+o+"</td><td>"+i+"</td><td>"+e+"</td><td>"+s+'</td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>'),a("wdw-calendar");var c={};c.id=(new Date).getTime(),c.imageUrl=n,c.postevent=o,c.PostDesc=l,c.sPostLocation=i,v.push(c);var d=JSON.stringify(v);localStorage.sEvents=d}),t("#lblEvents div").each(function(e){console.log(e+": "+t(this).text()),t(this).css}),t("#searchEvents").on("click",function(){var e=t("#searchfront").val(),n=e.split(" "),o=[];console.log(n);var a=JSON.parse(localStorage.events);n.forEach(function(t){var e=t;a.forEach(function(t){var n=t.name,a=(t.topic,t.level),l=t.speaker_organization;t.location;i(e,n,t,o),i(e,a,t,o),i(e,l,t,o)})}),console.log(o);var l=o.filter(function(t,e,n){return e==n.indexOf(t)});console.log(l),t("#event-listing").empty();var s=l.length/3;console.log("The base number is: "+s),l.forEach(function(e){var n=e.topic;console.log(l.length),console.log(e.name),t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>          ")})}),null==localStorage.events)console.log("localStorage.events is empty"),t.getJSON("assets/data/events.json").done(function(e){console.log(e);var n=JSON.stringify(e);localStorage.events=n,console.log("localStorage.events successfully populated");var o=localStorage.events,a=JSON.parse(o);a.forEach(function(e){if(a.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('              <div class="event-thirds" data-event-id="'+e.id+'">                <div>                  <h1>'+e.name+"</h1>                  <h2>"+n+"</h2>                  <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>                </div>              </div>          ")}}),l()});else if(localStorage.events){console.log("localStorage.events has data");var f=localStorage.events,m=JSON.parse(f);m.forEach(function(e){if(m.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>        ")}}),l()}t(n).ready(function(){a("wdw-home"),t("#wdw-event-listing").fadeIn(500)}),t("#searchfront").keyup(function(){c(),console.log("searchign,")}),t("#myInput").keyup(function(){d()}),t(n).ready(function(){g()}),t("#loginbtn").on("click",function(){var e=JSON.parse(localStorage.getItem("credentials")),n=JSON.parse(localStorage.getItem("credentialsMember")),o=t("#inputusername").val(),l=t("#inputpassword").val();e.username===o&&e.password===l||n.username===o&&n.password===l?(console.log("Welcome Mr.   "+e.username),s(),t(".brand h1").text("Logged in as Admin # "+e.username),a("wdw-index"),console.log(n.username+n.password)):console.log("failed login")}),t("#memberbtn").on("click",function(){var e=t("#inputfnamereg").val(),n=t("#inputlnamereg").val(),o=t("#inputemailreg").val(),l=t("#inputlocationreg").val(),i=t("#inputusernamereg").val(),s=t("#inputpasswordreg").val(),c={fname:e,lname:n,email:o,location:l,usernam:i,password:s};localStorage.setItem("credentialsMember",JSON.stringify(c)),console.log("Local Storage store",c),a("wdw-login")}),t("#postbtn").on("click",function(){r(),console.log("post event")}),t("#linkLogin").on("click",function(){a("wdw-login"),console.log("Nav - login clicked")}),t("#linkHome").on("click",function(){a("wdw-home"),console.log("Nav - Home Clicked ")}),t("#linkEvents").on("click",function(){a("wdw-events"),console.log("Nav - Link Event")}),t("#linkNews").on("click",function(){a("wdw-news"),console.log("Nav - News clicked")}),t("#linkCalendar").on("click",function(){a("wdw-calendar"),console.log("Nav - Calendar clicked")}),t("#linkAllEvents").on("click",function(){a("wdw-all-events"),console.log("Nav - all events click")}),t("#btnpostevent").on("click",function(){a("wdw-post-event"),console.log("Postclicke")}),v.indexOf(this),t(".fa-fa-trash").click(function(){console.log("Trashed clicked",v,v[p],v.length),v.splice(1,1)}),t("#manage-events").on("click",function(){a("wdw-manage-events"),console.log("manage events clicked ")}),t("#manage-users").on("click",function(){a("wdw-manage-users"),console.log("manage users clicked ")}),t("#registermember").on("click",function(){a("wdw-index"),console.log("manage-members clicked")}),t(".fa-fa-trash").click(function(){t(this).parent().hide(),console.log("Trash delete clicked ")})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93Iiwic1dpbmRvd0lkIiwiaGlkZSIsInNob3ciLCJpbml0UG9wRGF0YSIsImpFdmVudHMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJldmVudHMiLCJmb3JFYWNoIiwiaiIsImFwcGVuZCIsImlkIiwibmFtZSIsInRvcGljIiwic3BlYWtlciIsImRhdGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJ0aW1lXzI0aCIsImhvdXIiLCJtaW51dGUiLCJjb21wYXJlIiwiaW5wdXRWYWwiLCJkYXRhVmFsIiwiak9iaiIsImpEYXRhIiwiaW5wdXRWYWxMb3dlciIsInRvTG93ZXJDYXNlIiwiZGF0YVZhbExvd2VyIiwiY29uc29sZSIsImxvZyIsImJvb2wiLCJpbmNsdWRlcyIsInB1c2giLCJpc0xvZ2dlZEluIiwiZmFkZU91dCIsImZhZGVJbiIsInNlYXJjaEV2ZW50c0hvbWUiLCJpbnB1dCIsImZpbHRlciIsImZpZ2NsYXNzIiwiZmlnY2FwIiwibG9jYXRpb24iLCJpIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJpbmRleE9mIiwic3R5bGUiLCJkaXNwbGF5Iiwic2VhcmNoRXZlbnRzIiwidGFibGUiLCJ0ciIsInRkIiwiZ2V0UG9zdCIsInNJbWFnZVVybCIsInZhbCIsInNwb3N0dGl0ZWwiLCJzUG9zdERlc2MiLCJzUG9zdExvY2F0aW9uIiwiUG9zdCIsInBvc3RpbWFnZXVybCIsInBvc3R0aXRlbCIsInBvc3RkZXNjIiwicG9zdGxvYyIsImxvZ2luQWRtaW4iLCJ1c2VyQ3JlZHNBZG1pbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiYUV2ZW50cyIsInNFdmVudHMiLCJzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSIsIm9uIiwic0V2ZW50SWQiLCJEYXRlIiwiZ2V0VGltZSIsInNwb3N0ZXZlbnQiLCJzTGluayIsImpFdmVudCIsImltYWdlVXJsIiwicG9zdGV2ZW50IiwiUG9zdERlc2MiLCJzRmluYWxFdmVudHMiLCJlYWNoIiwiaW5kZXgiLCJ0aGlzIiwidGV4dCIsImNzcyIsImlucHV0U2VhcmNoRmllbGQiLCJhSW5wdXQiLCJzcGxpdCIsImpSZXN1bHRzIiwialRlbXAiLCJhIiwidGVtcCIsImxldmVsIiwib3JnIiwic3BlYWtlcl9vcmdhbml6YXRpb24iLCJqUmVzdWx0c0ZpbmFsIiwiZWxlbSIsInNlbGYiLCJlbXB0eSIsImJhc2VOdW1iZXIiLCJhVG9waWNzIiwiZ2V0SlNPTiIsImRvbmUiLCJzRGF0YSIsInJlYWR5Iiwia2V5dXAiLCJjcmVkZW50aWFscyIsImdldEl0ZW0iLCJjcmVkZW50aWFsc01lbWJlciIsInVzZXJuYW1lSW5wdXQiLCJpbnB1dGZuYW1lIiwiaW5wdXRsbmFtZSIsImlucHV0ZW1haWwiLCJpbnB1dGxvY2F0aW9uIiwiaW5wdXR1c2VybmFtZSIsImlucHV0cGFzcyIsInVzZXJDcmVkcyIsImZuYW1lIiwibG5hbWUiLCJlbWFpbCIsInVzZXJuYW0iLCJjbGljayIsInNwbGljZSIsInBhcmVudCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Q0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFlBS0EsU0FBQUMsR0FBQUMsR0FDQUwsRUFBQSxRQUFBTSxPQUNBTixFQUFBLElBQUFLLEdBQUFFLE9BZ1BBLFFBQUFDLEtBR0EsR0FBQUMsR0FBQUMsS0FBQUMsTUFBQUMsYUFBQUMsT0FDQUosR0FBQUssUUFBQSxTQUFBQyxHQUNBZixFQUFBLHdCQUFBZ0IsT0FBQSxzQkFBQUQsRUFBQUUsR0FBQSw2QkFDQUYsRUFBQUcsS0FBQSxnQ0FDQUgsRUFBQUksTUFBQSxnQ0FDQUosRUFBQUssUUFBQSxnQ0FDQUwsRUFBQU0s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L0IsR0FBQStCLEVBQUExQixRQUNBMEIsRUFBQXdELE9BQUEsRUFBQSxLQUtBekksRUFBQSxrQkFBQW9GLEdBQUEsUUFBQSxXQUNBaEYsRUFBQSxxQkFDQWdDLFFBQUFDLElBQUEsNEJBSUFyQyxFQUFBLGlCQUFBb0YsR0FBQSxRQUFBLFdBQ0FoRixFQUFBLG9CQUNBZ0MsUUFBQUMsSUFBQSwyQkFJQXJDLEVBQUEsbUJBQUFvRixHQUFBLFFBQUEsV0FFQWhGLEVBQUEsYUFDQWdDLFFBQUFDLElBQUEsNEJBSUFyQyxFQUFBLGdCQUFBd0ksTUFBQSxXQUNBeEksRUFBQWlHLE1BQUF5QyxTQUFBcEksT0FDQThCLFFBQUFDLElBQUEsNEJBTUFzRyxPQUFBMUksT0FBQUMiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuICBcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuXG4gIFxuICAgICAgLy9IaWRlL1Nob3cgLSBXZHcgXG4gICAgICBmdW5jdGlvbiBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coc1dpbmRvd0lkKSB7XG4gICAgICAgICQoJy53ZHcnKS5oaWRlKCk7IC8vZmFkZW91dCA1MDAgXG4gICAgICAgICQoJyMnICsgc1dpbmRvd0lkKS5zaG93KCk7IC8vIGZhZGUgaW4gNTAwIFxuICAgICAgfVxuICBcbiAgXG4gIFxuICAgICAgLy9TdG9yaW5nIGV2ZW50cyBcbiAgICAgIHZhciBhRXZlbnRzID0gW107IFxuICBcbiAgICAgIC8vQ2hla2tpbmcgZm9yIGxvY2FsIHN0b3JhZ2UgXG4gICAgICBpZiAobG9jYWxTdG9yYWdlLnNFdmVudHMpIHtcbiAgICAgICAgLy8gcmVhZCB0aGUgdGV4dCBmcm9tIHRoZSBsb2NhbCBzdG9yYWdlXG4gICAgICAgIC8vIGNvbnZlcnQgdGhhdCB0ZXh0IGludG8gYW4gb2JqZWN0XG4gICAgICAgIHZhciBzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5zRXZlbnRzOyBcbiAgICAgICAgYUV2ZW50cyA9IEpTT04ucGFyc2Uoc0V2ZW50c0Zyb21Mb2NhbFN0b3JhZ2UpOyAgICAgXG4gICAgICB9XG4gIFxuICBcbiAgICAkKGZ1bmN0aW9uICgpIHsgLy9QZXJmb3JtYW5jZSBpbiBoZXJlIC0tPiBsb2FkIGFzeW5jIGZpcnN0IHByaW9yaXR5IFxuICAgICAgLy8gRmFzdFNoZWxsXG4gICAgfSk7XG4gIFxuICBcbiAgIFxuICBcbiAgLy9DcmVhdGUgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvL0FkZHMgZXZlbnRzIHRvIHNlYXJjaCAtLSBzY2hlZHVsZSBjYWxlbmRhciBcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYUV2ZW50cy5sZW5ndGg7IGkrKykgeyAgLy90ZW1wbGF0aW5nIFxuICAgICAgLy9hcHBlbmQgIFxuICAgICAgJCgnI2xibEV2ZW50cycpLmFwcGVuZChcbiAgICAgICAgJzx0cj4nICtcbiAgICAgICAgJzx0aCBzY29wZT1cInJvd1wiPicrJzxoND4nK2FFdmVudHNbaV0uaWQrJzwvaDQ+JysnPC90aD4nK1xuICAgICAgICAnPHRkPicrJzxoND4nK2FFdmVudHNbaV0ubmFtZSsnPC9oND4nKyc8L3RkPicrXG4gICAgICAgIC8vJzx0ZCBjbGFzcz1cImV2ZW50UHJpY2VcIj4nK2V2ZW50UHJpY2VDaGFuZ2UrJzwvdGQ+JytcbiAgICAgICAgJzx0ZD48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvdGQ+JytcbiAgICAgICAgJzwvdHI+Jyk7IFx0XG4gICAgICB9XG4gIFxuICBcbiAgICAgIC8vQWRkIG5ldyBFdmVudFxuICAgICQoJyNwb3N0YnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIFxuICAgICAgdmFyIHNFdmVudElkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICB2YXIgc0ltYWdlVXJsID0gJCgnI2lucHV0cG9zdGltZycpLnZhbCgpO1xuICAgICAgdmFyIHNwb3N0ZXZlbnQgPSAkKCcjaW5wdXRwb3N0ZXZlbnQnKS52YWwoKTtcbiAgICAgIHZhciBzUG9zdERlc2MgPSAkKCcjaW5wdXRwb3N0ZGVzYycpLnZhbCgpO1xuICAgICAgdmFyIHNQb3N0TG9jYXRpb24gPSAkKCcjaW5wdXRwb3N0bG9jYXRpb24nKS52YWwoKTsgXG4gICAgICB2YXIgc0xpbmsgPSAnbGluayc7XG4gIFxuICAgICAgLy9jb25zb2xlLmxvZyhzSW1hZ2VVcmwgKyBzcG9zdHRpdGVsICsgc1Bvc3REZXNjICsgc1Bvc3RMb2NhdGlvbik7XG4gICAgICAvL0JlZm9yZSAuY2FsZW5kYXItYmFjayBcbiAgICAgICQoJyNsYmxFdmVudHMnKS5hcHBlbmQoXG4gICAgICAgICc8dHI+JyArIFxuICAgICAgICAgICc8dGQ+JytzcG9zdGV2ZW50Kyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD4nK3NQb3N0TG9jYXRpb24rJzwvdGQ+JytcbiAgICAgICAgICAnPHRkPicrc0V2ZW50SWQrJzwvdGQ+JytcbiAgICAgICAgICAnPHRkPicrc0xpbmsrJzwvdGQ+JytcbiAgICAgICAgICAnPHRkPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC90ZD4nK1xuICAgICAgICAnPC90cj4nKTtcbiAgXG4gICAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1jYWxlbmRhcicpO1xuICBcbiAgXG4gICAgICB2YXIgakV2ZW50ID0ge307XG4gICAgICBqRXZlbnQuaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGpFdmVudC5pbWFnZVVybCA9IHNJbWFnZVVybDtcbiAgICAgIGpFdmVudC5wb3N0ZXZlbnQgPSBzcG9zdGV2ZW50O1xuICAgICAgakV2ZW50LlBvc3REZXNjID0gc1Bvc3REZXNjO1xuICAgICAgakV2ZW50LnNQb3N0TG9jYXRpb24gPSBzUG9zdExvY2F0aW9uO1xuICAgICAgYUV2ZW50cy5wdXNoKGpFdmVudCk7XG4gICAgICAvL2NvbnNvbGUubG9nKGFFdmVudHMpO1xuICAgICAgLy9TYXZlIHRvIExvY2FsIHN0b3JhZ2VcbiAgICAgIHZhciBzRmluYWxFdmVudHMgPSBKU09OLnN0cmluZ2lmeShhRXZlbnRzKTtcbiAgICAgIC8vdXBkYXRlIHRoZSBzRXZlbnRzIHRvIGxvY2FsIHRleHRcbiAgICAgIGxvY2FsU3RvcmFnZS5zRXZlbnRzID0gc0ZpbmFsRXZlbnRzO1xuICBcbiAgICAgIC8vUmVhZCBmcm9tIGxvY2Fsc3RvcmFnZSBhbmQgdXBkYXRlIG9uIGxvYWQgdGhlIHNlYXJjaCBjYWxlbmRhciB3aXRobyBiYmplY3RzIFxuICAgIH0pO1xuICBcbiAgXG4gICAgJCgnI2xibEV2ZW50cyBkaXYnKS5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcbiAgICAgIGNvbnNvbGUubG9nKCBpbmRleCArICc6ICcgKyAkKHRoaXMpLnRleHQoKSk7XG4gICAgICAkKHRoaXMpLmNzcztcbiAgICB9KTtcbiAgICAgIFxuXG4gIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9GdW5jdGlvbnMgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBcblxuXG4gICAgLy9OZXcgVXBkYXRlZCBTZWFyY2ggZmVhdHVyZSBcblxuICAgICQoJyNzZWFyY2hFdmVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvL2dldCBpbnB1dCB2YWx1ZSBvZiAjc2VhcmNoLWVuZ2luZVxuICAgICAgdmFyIGlucHV0U2VhcmNoRmllbGQgPSAgJCgnI3NlYXJjaGZyb250JykudmFsKCk7XG4gICAgICB2YXIgYUlucHV0ID0gaW5wdXRTZWFyY2hGaWVsZC5zcGxpdChcIiBcIik7XG4gICAgICB2YXIgalJlc3VsdHMgPSBbXTtcblxuICAgICAgY29uc29sZS5sb2coYUlucHV0KTtcbiAgICAgIC8vU3RvcCBcblxuICAgICAgLy9nZXQgaW5zdGFuY2Ugb2YgbG9jYWxTdG9yYWdlICAgLy9NSXNzaW5nIHB1dCBmaWd1cmUgY2FwIGludG8gbG9jYWxzdG9yYWdlIFxuICAgICAgdmFyIGpUZW1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZXZlbnRzKTtcbiAgICAgIFxuICAgICAgLy9jaGVjayBlYWNoIGFJbnB1dCBmb3IgYSBtYXRjaFxuICAgICAgYUlucHV0LmZvckVhY2goZnVuY3Rpb24oYSkge1xuXG4gICAgICAgIHZhciB0ZW1wID0gYTtcblxuICAgICAgICBqVGVtcC5mb3JFYWNoKGZ1bmN0aW9uKGope1xuXG4gICAgICAgICAgdmFyIG5hbWUgPSBqLm5hbWU7XG4gICAgICAgICAgdmFyIHRvcGljID0gai50b3BpYztcbiAgICAgICAgICB2YXIgbGV2ZWwgPSBqLmxldmVsO1xuICAgICAgICAgIHZhciBvcmcgPSBqLnNwZWFrZXJfb3JnYW5pemF0aW9uO1xuICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGoubG9jYXRpb247XG5cbiAgICAgICAgICBjb21wYXJlKHRlbXAsIG5hbWUsIGosIGpSZXN1bHRzKTtcbiAgICAgICAgICAvL2NvbXBhcmUodGVtcCwgdG9waWMsIGosIGpSZXN1bHRzKTsgLy90aGlzIGlzIGFuIGFycmF5XG4gICAgICAgICAgY29tcGFyZSh0ZW1wLCBsZXZlbCwgaiwgalJlc3VsdHMpO1xuICAgICAgICAgIGNvbXBhcmUodGVtcCwgb3JnLCBqLCBqUmVzdWx0cyk7XG4gICAgICAgICAgLy9jb21wYXJlKHRlbXAsIGxvY2F0aW9uLCBqLCBqUmVzdWx0cyk7IC8vdGhpcyBpcyBhIEpTT04gb2JqZWN0XG5cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy9yZW1vdmUgZHVwbGljYXRlc1xuICAgICAgY29uc29sZS5sb2coalJlc3VsdHMpO1xuXG4gICAgICB2YXIgalJlc3VsdHNGaW5hbCA9IGpSZXN1bHRzLmZpbHRlcihmdW5jdGlvbihlbGVtLCBpbmRleCwgc2VsZikge1xuICAgICAgcmV0dXJuIGluZGV4ID09IHNlbGYuaW5kZXhPZihlbGVtKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhqUmVzdWx0c0ZpbmFsKTtcblxuICAgICAgLy9jbGVhciBkZWZhdWx0IGl0ZW1zIGZyb20gXG4gICAgICAkKCcjZXZlbnQtbGlzdGluZycpLmVtcHR5KCk7XG5cbiAgICAgIHZhciBiYXNlTnVtYmVyID0galJlc3VsdHNGaW5hbC5sZW5ndGggLyAzO1xuICAgICAgY29uc29sZS5sb2coJ1RoZSBiYXNlIG51bWJlciBpczogJyArIGJhc2VOdW1iZXIpO1xuXG4gICAgICAvL2FwcGVuZCB0byBET01cbiAgICAgIGpSZXN1bHRzRmluYWwuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICAgIHZhciBhVG9waWNzID0gai50b3BpYztcblxuICAgICAgICBjb25zb2xlLmxvZyhqUmVzdWx0c0ZpbmFsLmxlbmd0aCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGoubmFtZSk7XG5cbiAgICAgICAgLy9nZXQgYW4gaW5zdGFuY2Ugb2YgYW4gZXZlbnQgYW5kIGFwcGVuZCBpdCB0byB0aGUgRE9NLi5cbiAgICAgICAgJCgnI2V2ZW50LWxpc3RpbmcnKS5hcHBlbmQoJ1xcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXZlbnQtdGhpcmRzXCIgZGF0YS1ldmVudC1pZD1cIicgKyBqLmlkICsgJ1wiPlxcXG4gICAgICAgICAgICAgIDxkaXY+XFxcbiAgICAgICAgICAgICAgICA8aDE+JyArIGoubmFtZSArICc8L2gxPlxcXG4gICAgICAgICAgICAgICAgPGgyPicgKyBhVG9waWNzICsgJzwvaDI+XFxcbiAgICAgICAgICAgICAgICA8aDU+JyArIGouZGF0ZS5kYXkgKyAnLScgKyBqLmRhdGUubW9udGggKyAnLScgKyBqLmRhdGUueWVhciArICc8L2g1PlxcXG4gICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICcpO1xuXG5cbiAgICAgIH0pO1xuICB9KTsgLy9FbmQgbmV3IHNlYXJjaCBmZWF0dXJlIFxuXG5cblxuICBpZiAobG9jYWxTdG9yYWdlLmV2ZW50cyA9PSBudWxsKSB7XG4gICAgLy9pbXBvcnQgZGF0YSBmcm9tIGRhdGEvZXZlbnRzLmpzb25cbiAgICAvL2lucHV0IGludG8gbG9jYWxTdG9yYWdlLmV2ZW50c1xuICAgIC8vanNvbiBmaWxlIHdpbGwgYWx3YXlzIGhhdmUgZGF0YSwgd2hpY2ggaXMgd2h5IHRoaXMgbWV0aG9kIHdpbGwgYWx3YXlzIHdvcmshXG4gICAgY29uc29sZS5sb2coJ2xvY2FsU3RvcmFnZS5ldmVudHMgaXMgZW1wdHknKTtcbiAgICAkLmdldEpTT04oJ2Fzc2V0cy9kYXRhL2V2ZW50cy5qc29uJykuZG9uZSggZnVuY3Rpb24oakRhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGpEYXRhKTtcbiAgICAgIC8vcHV0IHRoZSBqRGF0YSBvYmplY3RzIGludG8gbG9jYWxTdG9yYWdlXG4gICAgICB2YXIgc0RhdGEgPSBKU09OLnN0cmluZ2lmeShqRGF0YSk7XG4gICAgICBsb2NhbFN0b3JhZ2UuZXZlbnRzID0gc0RhdGE7XG4gICAgICBjb25zb2xlLmxvZygnbG9jYWxTdG9yYWdlLmV2ZW50cyBzdWNjZXNzZnVsbHkgcG9wdWxhdGVkJyk7XG5cbiAgICAgIHZhciBzRXZlbnRzID0gbG9jYWxTdG9yYWdlLmV2ZW50cztcbiAgICAgIHZhciBqRXZlbnRzID0gSlNPTi5wYXJzZShzRXZlbnRzKTtcblxuICAgICAgakV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGopIHtcbiAgICAgICAgaWYgKGpFdmVudHMuaW5kZXhPZihqKSA8PSA5KSB7XG4gICAgICAgICAgLy9zdGFydFxuICAgICAgICAgIGNvbnNvbGUubG9nKFwid29ya3NcIik7XG5cbiAgICAgICAgICB2YXIgYVRvcGljcyA9IGoudG9waWM7XG5cbiAgICAgICAgICAkKCcjZXZlbnQtbGlzdGluZycpLmFwcGVuZCgnXFxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LXRoaXJkc1wiIGRhdGEtZXZlbnQtaWQ9XCInICsgai5pZCArICdcIj5cXFxuICAgICAgICAgICAgICAgIDxkaXY+XFxcbiAgICAgICAgICAgICAgICAgIDxoMT4nICsgai5uYW1lICsgJzwvaDE+XFxcbiAgICAgICAgICAgICAgICAgIDxoMj4nICsgYVRvcGljcyArICc8L2gyPlxcXG4gICAgICAgICAgICAgICAgICA8aDU+JyArIGouZGF0ZS5kYXkgKyAnLScgKyBqLmRhdGUubW9udGggKyAnLScgKyBqLmRhdGUueWVhciArICc8L2g1PlxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAnKTtcbiAgICAgICAgICAvL2VuZFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaW5pdFBvcERhdGEoKTsgLy9wb3B1bGF0ZSBkYXRhIGluIGV2ZW50LW1hbmFnZW1lbnQgdGFibGVcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UuZXZlbnRzKSB7XG4gICAgLy9sb2FkIGV2ZXJ5dGhpbmcgZnJvbSBsb2NhbHN0b3JhZ2UgYW5kIHBvcHVsYXRlIHRoZSBkaXYgd2l0aCBkYXRhLi5cbiAgICBjb25zb2xlLmxvZyhcImxvY2FsU3RvcmFnZS5ldmVudHMgaGFzIGRhdGFcIik7XG4gICAgXG4gICAgdmFyIHNFdmVudHMgPSBsb2NhbFN0b3JhZ2UuZXZlbnRzO1xuICAgIHZhciBqRXZlbnRzID0gSlNPTi5wYXJzZShzRXZlbnRzKTtcblxuICAgIGpFdmVudHMuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICBpZiAoakV2ZW50cy5pbmRleE9mKGopIDw9IDkpIHtcbiAgICAgICAgLy9zdGFydFxuICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuXG4gICAgICAgIHZhciBhVG9waWNzID0gai50b3BpYztcblxuICAgICAgICAkKCcjZXZlbnQtbGlzdGluZycpLmFwcGVuZCgnXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJldmVudC10aGlyZHNcIiBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcbiAgICAgICAgICAgICAgPGRpdj5cXFxuICAgICAgICAgICAgICAgIDxoMT4nICsgai5uYW1lICsgJzwvaDE+XFxcbiAgICAgICAgICAgICAgICA8aDI+JyArIGFUb3BpY3MgKyAnPC9oMj5cXFxuICAgICAgICAgICAgICAgIDxoNT4nICsgai5kYXRlLmRheSArICctJyArIGouZGF0ZS5tb250aCArICctJyArIGouZGF0ZS55ZWFyICsgJzwvaDU+XFxcbiAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICcpO1xuICAgICAgICAvL2VuZFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaW5pdFBvcERhdGEoKTtcbiAgfVxuXG5cbiAgXG5cbiAgZnVuY3Rpb24gaW5pdFBvcERhdGEoKSB7XG4gICAgLy9zaW5jZSBsb2NhbHN0b3JhZ2Ugd2lsbCBhbHdheXMgaGF2ZSB2YWx1ZXMsXG4gICAgLy9hcHBlbmQgYWxsIG9mIGxvY2Fsc3RvcmFnZSdzIGNvbnRlbnQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgdGFibGVcbiAgICB2YXIgakV2ZW50cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmV2ZW50cyk7XG4gICAgakV2ZW50cy5mb3JFYWNoKCBmdW5jdGlvbihqKSB7XG4gICAgICAkKCcjZXZlbnQtbGlzdGluZyB0Ym9keScpLmFwcGVuZCgnPHRyIGRhdGEtZXZlbnQtaWQ9XCInICsgai5pZCArICdcIj5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGoubmFtZSArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai50b3BpYyArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai5zcGVha2VyICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLmRhdGUuZGF5ICsgJyAnICsgai5kYXRlLm1vbnRoICsgJyAnICsgai5kYXRlLnllYXIgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGoudGltZV8yNGguaG91ciArICc6JyArIGoudGltZV8yNGgubWludXRlICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1wZW5jaWxcIiBpZD1cImVkaXQtZXZlbnQtaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIiBpZD1cImRlbGV0ZS1ldmVudC1pY29uXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdHI+XFxcblx0XHRcdCcpO1xuICAgIH0pO1xuICB9XG5cblxuXG4gIGZ1bmN0aW9uIGNvbXBhcmUoaW5wdXRWYWwsIGRhdGFWYWwsIGpPYmosIGpEYXRhKSB7XG4gICAgdmFyIGlucHV0VmFsTG93ZXIgPSBpbnB1dFZhbC50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBkYXRhVmFsTG93ZXIgPSBkYXRhVmFsLnRvTG93ZXJDYXNlKCk7XG4gIFxuICAgIGNvbnNvbGUubG9nKCdUaGUgaW5wdXQgdmFsdWUgaXM6ICcgKyBpbnB1dFZhbExvd2VyKTtcbiAgICBjb25zb2xlLmxvZygnVGhlIEpTT04gZGF0YSB0byBjb21wYXJlIGlzOiAnICsgZGF0YVZhbExvd2VyKTtcbiAgXG4gICAgdmFyIGJvb2wgPSBkYXRhVmFsTG93ZXIuaW5jbHVkZXMoaW5wdXRWYWxMb3dlcik7XG4gICAgY29uc29sZS5sb2coJ1RoZSBib29sID0gJyArIGJvb2wpO1xuICBcbiAgICAgIGlmIChib29sID09IHRydWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ01hdGNoIG1hZGUnKTtcbiAgICAgICAgakRhdGEucHVzaChqT2JqKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGYWxzZScpO1xuICAgICAgfVxuICB9XG4gIFxuICBcbiAgLy9vbiBsb2FkXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1ob21lJyk7IFxuICAgICAkKCcjd2R3LWV2ZW50LWxpc3RpbmcnKS5mYWRlSW4oNTAwKTtcbiAgICAvLyAgJCgnLmRyb3Bkb3duJykuaGlkZSgpO1xuICB9KTtcbiAgXG4gIFxuICBmdW5jdGlvbiBpc0xvZ2dlZEluKCkge1xuICAgIC8vaWYobG9jYWxTdG9yYWdlLnVzZXJDcmVkcyl7XG4gICAgJCgnI2xpbmtSZWdpc3RlcicpLmZhZGVPdXQoNTAwKTtcbiAgICAkKCcjbGlua0xvZ2luJykuZmFkZU91dCg1MDApO1xuICAgICQoJyNsaW5rTG9nb3V0JykuZmFkZUluKDUwMCk7XG4gICAgIC8vfVxuICB9XG4gIFxuICAvL2Z1bmMgbG9nb3V0IFxuICBcbiAgXG4gIGZ1bmN0aW9uIHNlYXJjaEV2ZW50c0hvbWUoKSB7XG4gICAgdmFyIGlucHV0LCBmaWx0ZXIsIGZpZ2NsYXNzICwgZmlnY2FwICxsb2NhdGlvbixpO1xuICBcbiAgICBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hmcm9udCcpO1xuICAgIGZpbHRlciA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7IFxuICAgIGZpZ2NsYXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VmZmVjdC1taWxvJyk7IFxuICAgIGZpZ2NhcCA9IGZpZ2NsYXNzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsb2NhdGlvbicpO1xuXG4gICAgY29uc29sZS5sb2coZmlnY2FwKTtcbiAgICAvL0xvb3AgdGhyb3VnaCBhbGwgZmlnIGNhcHRpb25zIGFuZCBoaWRlL3Nob3dcbiAgICBmb3IoaSA9IDA7IGkgPCAgZmlnY2FwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsb2NhdGlvbiA9IGZpZ2NhcFtpXS5nZXRFbGVtZW50QnlJZCgnc3BhbicpWzBdO1xuICAgICAgY29uc29sZS5sb2cobG9jYXRpb24pO1xuICAgICAgY29uc29sZS5sb2coZmlnY2FwW2ldICsgZmlnY2FwKTtcbiAgXG4gICAgICBpZihsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24uaW5uZXJIVE1MLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpID4gLTEpIHtcbiAgICAgICAgICBmaWdjYXBbaV0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGZpZ2NhcFtpXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlnY2FwW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgY29uc29sZS5sb2coZmlnY2FwW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXG4gIH1cbiAgXG4gICQoJyNzZWFyY2hmcm9udCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgIHNlYXJjaEV2ZW50c0hvbWUoKTtcbiAgICBjb25zb2xlLmxvZygnc2VhcmNoaWduLCcpO1xuICB9KTtcbiAgXG4gIC8vU2VyYWNoIEV2ZW50cyBEeW5hbWljaWFseSBcbiAgZnVuY3Rpb24gc2VhcmNoRXZlbnRzKCkge1xuICAgIC8vIERlY2xhcmUgdmFyaWFibGVzIFxuICAgIHZhciBpbnB1dCwgZmlsdGVyLCB0YWJsZSwgdHIsIHRkLCBpO1xuICAgIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215SW5wdXQnKTtcbiAgICBmaWx0ZXIgPSBpbnB1dC52YWx1ZS50b1VwcGVyQ2FzZSgpO1xuICAgIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215VGFibGUnKTtcbiAgICB0ciA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0cicpO1xuICBcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRhYmxlIHJvd3MsIGFuZCBoaWRlIHRob3NlIHdobyBkb24ndCBtYXRjaCB0aGUgc2VhcmNoIHF1ZXJ5XG4gICAgZm9yIChpID0gMDsgaSA8IHRyLmxlbmd0aDsgaSsrKSB7XG4gICAgIFxuICAgICAgdGQgPSB0cltpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKVswXTtcbiAgICAgIGlmICh0ZCkge1xuICAgICAgICBpZiAodGQuaW5uZXJIVE1MLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpID4gLTEpIHtcbiAgICAgICAgICB0cltpXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfSBcbiAgICB9XG4gIH1cbiAgXG4gIFxuICAvL1NlYXJjaCBUaHJvdWdoIFRhYmxlIC0+IFxuICAkKCcjbXlJbnB1dCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgIHNlYXJjaEV2ZW50cygpO1xuICB9KTtcbiAgXG4gIFxuICAvKlxuICBmdW5jdGlvbiBjcmVhdGVQb3N0KCkgeyAvL1Rha2VzIG9iamVjdCAgUG9zdCBcbiAgLypcbiAgICAkKCcjd2R3LWFsbC1ldmVudHMnKS5lbXB0eSgpOyBcbiAgICB2YXIgc1Bvc3RUZW1wbGF0ZSA9IFxuICAgICc8ZGl2IGNsYXNzPVwiZ3JpZF9qb2JcIj48ZmlndXJlIGNsYXNzPVwiZWZmZWN0LW1pbG9cIiBpZD1cImZpZ3VyZTFcIj5cXFxuICAgICA8aW1nIGNsYXNzPVwiZmVhdHVyZWQtY29tcGFueV9faW1hZ2VcIiBzcmM9XCIke1Bvc3QuaW1nfVwiIGFsdD1cIlwiPjxmaWdjYXB0aW9uPlxcXG4gICAgIDxoMj4ke1Bvc3QudGl0bGV9IDxzcGFuPiAke1Bvc3QubG9jYXRpb259IDwvc3Bhbj5cXFxuICAgICA8L2gyPjxwPiR7ZGVzY308L3A+PGEgaHJlZj1cIiNcIj5WaWV3IG1vcmU8L2E+PC9maWdjYXB0aW9uPjwvZmlndXJlPjwvZGl2PlxcXG4gICAgICc7XG4gIFxuICAgICAkKCcjd2QtYWxsLWV2ZW50cycpLmFwcGVuZChzUG9zdFRlbXBsYXRlKTtcbiAgXG4gICAgXG4gIH1cbiAgKi9cbiAgXG4gIFxuICBmdW5jdGlvbiBnZXRQb3N0KCkge1xuICAgIHZhciBzSW1hZ2VVcmwgPSAkKCcjaW5wdXRwb3N0aW1nJykudmFsKCk7XG4gICAgdmFyIHNwb3N0dGl0ZWwgPSAkKCcjaW5wdXRwb3N0dGl0ZWwnKS52YWwoKTtcbiAgICB2YXIgc1Bvc3REZXNjID0gJCgnI2lucHV0cG9zdGRlc2MnKS52YWwoKTtcbiAgICAgIHZhciBzUG9zdExvY2F0aW9uID0gJCgnI2lucHV0cG9zdGxvY2F0aW9uJykudmFsKCk7IFxuICBcbiAgICAvL2NvbnNvbGUubG9nKHNJbWFnZVVybCArIHNwb3N0dGl0ZWwgKyBzUG9zdERlc2MgKyBzUG9zdExvY2F0aW9uKTtcbiAgICBcbiAgICB2YXIgUG9zdCA9IHtcbiAgICAgICdwb3N0aW1hZ2V1cmwnOnNJbWFnZVVybCxcbiAgICAgICdwb3N0dGl0ZWwnOiBzcG9zdHRpdGVsLFxuICAgICAgJ3Bvc3RkZXNjJzogc1Bvc3REZXNjLFxuICAgICAgJ3Bvc3Rsb2MnOiBzUG9zdExvY2F0aW9uXG4gICAgfTtcbiAgXG4gICAgLy9EaXYgYXBwZW5kIFxuICAgIGNvbnNvbGUubG9nKFBvc3QpO1xuICAgIFxuICBcbiAgICAvL0NvbnZlcnRzIHRvIG9iamVjdHMgIFxuICB9XG4gIFxuICBcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgbG9naW5BZG1pbigpO1xuICB9KTtcbiAgXG4gIGZ1bmN0aW9uIGxvZ2luQWRtaW4oKSB7XG4gICAgICB2YXIgdXNlckNyZWRzQWRtaW4gPSB7XG4gICAgICAndXNlcm5hbWUnOiAndXNlcm5hbWUnLFxuICAgICAgJ3Bhc3N3b3JkJzogJ3Bhc3N3b3JkJ1xuICAgIH07XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyZWRlbnRpYWxzJywgSlNPTi5zdHJpbmdpZnkodXNlckNyZWRzQWRtaW4pKTsgXHRcdCBcbiAgfVxuICBcbiAgXG4gIFxuICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLy9Mb2dpbiBvbiBwYWdlICBcbiAgICAvL0F1dGhlbnRpY2F0aW9uIGlzIG1pc3NpbmcgLSBhZG1pbiAtIG1lbWJlclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyBcbiAgJCgnI2xvZ2luYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNyZWRlbnRpYWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3JlZGVudGlhbHMnKSk7IFxuICAgIHZhciBjcmVkZW50aWFsc01lbWJlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyZWRlbnRpYWxzTWVtYmVyJykpOyBcbiAgXG4gICAgdmFyIHVzZXJuYW1lSW5wdXQgPSAkKCcjaW5wdXR1c2VybmFtZScpLnZhbCgpO1xuICAgIHZhciBwYXNzd29yZCAgPSAkKCcjaW5wdXRwYXNzd29yZCcpLnZhbCgpO1xuICAgIC8vY29uc29sZS5sb2codXNlcm5hbWVJbnB1dCArIHBhc3N3b3JkKTtcbiAgXG4gICAgaWYoY3JlZGVudGlhbHMudXNlcm5hbWUgPT09IHVzZXJuYW1lSW5wdXQgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQgPT09IHBhc3N3b3JkIHx8IGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lID09PSB1c2VybmFtZUlucHV0ICYmIGNyZWRlbnRpYWxzTWVtYmVyLnBhc3N3b3JkID09PSBwYXNzd29yZCApIHtcbiAgICAgICBjb25zb2xlLmxvZygnV2VsY29tZSBNci4gICAnICsgY3JlZGVudGlhbHMudXNlcm5hbWUpO1xuICAgICAgIFxuICAgICAgLy8gbG9jYWxTdG9yYWdlLmxvZ2dlZEluVXNlciA9IEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxzKTtcbiAgICAgICBpc0xvZ2dlZEluKCk7XG4gICAgICAgJCgnLmJyYW5kIGgxJykudGV4dCgnTG9nZ2VkIGluIGFzIEFkbWluICcgKyAnIyAnICsgY3JlZGVudGlhbHMudXNlcm5hbWUpO1xuICAgICAgICAgXG4gIFxuICAgICAgLy8gaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctcmVnaXN0ZXItbWVtYmVyJyk7XG4gICAgICBcbiAgICAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctaW5kZXgnKTtcbiAgXG4gICAgICAgIGNvbnNvbGUubG9nKGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lICsgY3JlZGVudGlhbHNNZW1iZXIucGFzc3dvcmQpO1xuICAgICBcbiAgICAgICAgXG4gICAgICAgIC8vICQoJy5icmFuZCBoMScpLnRleHQoJ0xvZ2dlZCBpbiBhcyBNZW1iZXInICsgJyAjICcgKyBjcmVkZW50aWFsc01lbWJlci51c2VybmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdmYWlsZWQgbG9naW4nKTtcbiAgICB9XG4gIFxuICBcbiAgfSk7XG4gIFxuICBcbiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8vUmVnaXN0ZXIgdXNlciBvbiBwYWdlIFxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAkKCcjbWVtYmVyYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIFxuICAgIHZhciBpbnB1dGZuYW1lID0gJCgnI2lucHV0Zm5hbWVyZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXRsbmFtZSA9ICQoJyNpbnB1dGxuYW1lcmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0ZW1haWwgPSAkKCcjaW5wdXRlbWFpbHJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dGxvY2F0aW9uID0gJCgnI2lucHV0bG9jYXRpb25yZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXR1c2VybmFtZSA9ICQoJyNpbnB1dHVzZXJuYW1lcmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0cGFzcyA9ICQoJyNpbnB1dHBhc3N3b3JkcmVnJykudmFsKCk7XG4gIFxuICAgIC8vY29uc29sZS5sb2coJ05ldyBSZWdpc3RlcmQgdXNlciA9ICAnICsgaW5wdXR1c2VybmFtZSk7XG4gIFxuICAgIHZhciB1c2VyQ3JlZHMgPSB7XG4gICAgICAnZm5hbWUnIDogaW5wdXRmbmFtZSxcbiAgICAgICdsbmFtZSc6IGlucHV0bG5hbWUsXG4gICAgICAnZW1haWwnOmlucHV0ZW1haWwsXG4gICAgICAnbG9jYXRpb24nOmlucHV0bG9jYXRpb24sXG4gICAgICAndXNlcm5hbSc6IGlucHV0dXNlcm5hbWUsXG4gICAgICAncGFzc3dvcmQnOiBpbnB1dHBhc3MsXG4gICAgICBcbiAgICB9O1xuICBcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbHNNZW1iZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyQ3JlZHMpKTsgXG4gIFxuICAgIGNvbnNvbGUubG9nKCdMb2NhbCBTdG9yYWdlIHN0b3JlJywgdXNlckNyZWRzKTtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1sb2dpbicpO1xuICBcbiAgfSk7IFxuICBcbiAgXG4gIFxuICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLy9FdmVudCBMaXN0ZW5lcnMgXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFxuICAgIC8vUG9zdFxuICAgICQoJyNwb3N0YnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBnZXRQb3N0KCk7IFxuICAgIGNvbnNvbGUubG9nKCdwb3N0IGV2ZW50Jyk7XG4gICAgfSk7XG4gIFxuICAvL05hdiAtIExvZ2luIFxuICAkKCcjbGlua0xvZ2luJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWxvZ2luJyk7XG4gICAgICBjb25zb2xlLmxvZygnTmF2IC0gbG9naW4gY2xpY2tlZCcpO1xuICB9KTtcbiAgXG4gIC8vTmF2IC0gSG9tZSBcbiAgJCgnI2xpbmtIb21lJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctaG9tZScpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBIb21lIENsaWNrZWQgJyk7XG4gIH0pO1xuICBcbiAgXG4gIC8vTmF2IC0gRXZlbnRcbiAgJCgnI2xpbmtFdmVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1ldmVudHMnKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gTGluayBFdmVudCcpO1xuICB9KTtcbiAgXG4gIFxuICAvL05hdiAtIE5ld3MgXG4gICQoJyNsaW5rTmV3cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LW5ld3MnKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gTmV3cyBjbGlja2VkJyk7XG4gIH0pO1xuICBcbiAgLy9OYXYgLSBDYWxlbmRhciBcbiAgJCgnI2xpbmtDYWxlbmRhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWNhbGVuZGFyJyk7XG4gICAgY29uc29sZS5sb2coJ05hdiAtIENhbGVuZGFyIGNsaWNrZWQnKTtcbiAgfSk7XG4gIFxuICAvL05hdiAtIEFsbCBFdmVudHMgXG4gICQoJyNsaW5rQWxsRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctYWxsLWV2ZW50cycpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBhbGwgZXZlbnRzIGNsaWNrJyk7XG4gIH0pO1xuICBcbiAgXG4gIC8vUGFnZSAtIFBvc3QgYW4gZXZlbnQgXG4gICQoJyNidG5wb3N0ZXZlbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1wb3N0LWV2ZW50Jyk7XG4gICAgY29uc29sZS5sb2coJ1Bvc3RjbGlja2UnKTtcbiAgfSk7XG4gIFxuICAvL1JlbW92ZSBFdmVudFxuICBhRXZlbnRzLmluZGV4T2YodGhpcyk7IFxuICBcbiAgJCgnLmZhLWZhLXRyYXNoJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ1RyYXNoZWQgY2xpY2tlZCcsIGFFdmVudHMsIGFFdmVudHNbaV0sIGFFdmVudHMubGVuZ3RoKTtcbiAgICBhRXZlbnRzLnNwbGljZSgxLDEpO1xuICB9KTtcblxuXG4gIC8vTWFuYWdlIEV2ZW50cyBcbiAgJCgnI21hbmFnZS1ldmVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1tYW5hZ2UtZXZlbnRzJyk7XG4gICAgY29uc29sZS5sb2coJ21hbmFnZSBldmVudHMgY2xpY2tlZCAnKTtcbiAgfSk7XG4gIFxuICAvL01hbmFnZSB1c2VycyBcbiAgJCgnI21hbmFnZS11c2VycycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LW1hbmFnZS11c2VycycpO1xuICAgIGNvbnNvbGUubG9nKCdtYW5hZ2UgdXNlcnMgY2xpY2tlZCAnKTtcbiAgfSk7XG5cbiAgLy8gTWFuYWdlIG1lbWJlcnMgXG4gICQoJyNyZWdpc3Rlcm1lbWJlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIC8vIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LW1hbmFnZS1tZW1iZXJzJyk7IFxuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWluZGV4Jyk7IFxuICAgIGNvbnNvbGUubG9nKCdtYW5hZ2UtbWVtYmVycyBjbGlja2VkJyk7XG4gIH0pO1xuXG4gIC8vVHJhc2ggRGVsZXRlIHNlYXJjaCBldmVudHNcbiAgJCgnLmZhLWZhLXRyYXNoJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgY29uc29sZS5sb2coJ1RyYXNoIGRlbGV0ZSBjbGlja2VkICcpO1xuICB9KTtcbiAgXG4gIFxuICBcbiAgXG4gIH0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG4gICJdfQ==
