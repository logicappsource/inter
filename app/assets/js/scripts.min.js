/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
!function(t,e,n,o){"use strict";function a(e){t(".wdw").hide(),t("#"+e).show()}function l(){var e=JSON.parse(localStorage.events);e.forEach(function(e){t("#event-listing tbody").append('<tr data-event-id="'+e.id+'">\t\t\t\t\t\t\t\t\t\t<td>'+e.name+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.topic+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.speaker+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.date.day+" "+e.date.month+" "+e.date.year+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.time_24h.hour+":"+e.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t')})}function i(t,e,n,o){var a=t.toLowerCase(),l=e.toLowerCase();console.log("The input value is: "+a),console.log("The JSON data to compare is: "+l);var i=l.includes(a);console.log("The bool = "+i),1==i?(console.log("Match made"),o.push(n)):console.log("False")}function s(){t("#linkRegister").fadeOut(500),t("#linkLogin").fadeOut(500),t("#linkLogout").fadeIn(500)}function c(){var t,e,o,a,l,i;for(t=n.getElementById("searchfront"),e=t.value.toUpperCase(),o=n.getElementById("effect-milo"),a=o.getElementsByTagName("location"),console.log(a),i=0;i<a.length;i++)l=a[i].getElementById("span")[0],console.log(l),console.log(a[i]+a),l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?(a[i].style.display="",console.log(a[i])):(a[i].style.display="none",console.log(a[i])))}function d(){var t,e,o,a,l,i;for(t=n.getElementById("myInput"),e=t.value.toUpperCase(),o=n.getElementById("myTable"),a=o.getElementsByTagName("tr"),i=0;i<a.length;i++)l=a[i].getElementsByTagName("td")[0],l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?a[i].style.display="":a[i].style.display="none")}function r(){var e=t("#inputpostimg").val(),n=t("#inputposttitel").val(),o=t("#inputpostdesc").val(),a=t("#inputpostlocation").val(),l={postimageurl:e,posttitel:n,postdesc:o,postloc:a};console.log(l)}function g(){var t={username:"username",password:"password"};localStorage.setItem("credentials",JSON.stringify(t))}var v=[];if(localStorage.sEvents){var p=localStorage.sEvents;v=JSON.parse(p)}t(function(){});for(var u=0;u<v.length;u++)t("#lblEvents").append('<tr><th scope="row"><h4>'+v[u].id+"</h4></th><td><h4>"+v[u].name+'</h4></td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>');if(t("#postbtn").on("click",function(){var e=(new Date).getTime(),n=t("#inputpostimg").val(),o=t("#inputpostevent").val(),l=t("#inputpostdesc").val(),i=t("#inputpostlocation").val(),s="link";t("#lblEvents").append("<tr><td>"+o+"</td><td>"+i+"</td><td>"+e+"</td><td>"+s+'</td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>'),a("wdw-calendar");var c={};c.id=(new Date).getTime(),c.imageUrl=n,c.postevent=o,c.PostDesc=l,c.sPostLocation=i,v.push(c);var d=JSON.stringify(v);localStorage.sEvents=d}),t("#lblEvents div").each(function(e){console.log(e+": "+t(this).text()),t(this).css}),t("#searchEvents").on("click",function(){var e=t("#searchfront").val(),n=e.split(" "),o=[];console.log(n);var a=JSON.parse(localStorage.events);n.forEach(function(t){var e=t;a.forEach(function(t){var n=t.name,a=(t.topic,t.level),l=t.speaker_organization;t.location;i(e,n,t,o),i(e,a,t,o),i(e,l,t,o)})}),console.log(o);var l=o.filter(function(t,e,n){return e==n.indexOf(t)});console.log(l),t("#event-listing").empty();var s=l.length/3;console.log("The base number is: "+s),l.forEach(function(e){var n=e.topic;console.log(l.length),console.log(e.name),t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>          ")})}),null==localStorage.events)console.log("localStorage.events is empty"),t.getJSON("assets/data/events.json").done(function(e){console.log(e);var n=JSON.stringify(e);localStorage.events=n,console.log("localStorage.events successfully populated");var o=localStorage.events,a=JSON.parse(o);a.forEach(function(e){if(a.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('              <div class="event-thirds" data-event-id="'+e.id+'">                <div>                  <h1>'+e.name+"</h1>                  <h2>"+n+"</h2>                  <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>                </div>              </div>          ")}}),l()});else if(localStorage.events){console.log("localStorage.events has data");var f=localStorage.events,h=JSON.parse(f);h.forEach(function(e){if(h.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>        ")}}),l()}t(n).ready(function(){a("wdw-home"),t("#wdw-event-listing").fadeIn(500)}),t("#searchfront").keyup(function(){c(),console.log("searchign,")}),t("#myInput").keyup(function(){d()}),t(n).ready(function(){g()}),t("#loginbtn").on("click",function(){var e=JSON.parse(localStorage.getItem("credentials")),n=JSON.parse(localStorage.getItem("credentialsMember")),o=t("#inputusername").val(),l=t("#inputpassword").val();e.username===o&&e.password===l||n.username===o&&n.password===l?(console.log("Welcome Mr.   "+e.username),s(),t(".brand h1").text("HI "+e.username),a("wdw-index"),console.log(n.username+n.password)):console.log("failed login")}),t("#memberbtn").on("click",function(){var e=t("#inputfnamereg").val(),n=t("#inputlnamereg").val(),o=t("#inputemailreg").val(),l=t("#inputlocationreg").val(),i=t("#inputusernamereg").val(),s=t("#inputpasswordreg").val(),c={fname:e,lname:n,email:o,location:l,usernam:i,password:s};localStorage.setItem("credentialsMember",JSON.stringify(c)),console.log("Local Storage store",c),a("wdw-login")}),t("#postbtn").on("click",function(){r(),console.log("post event")}),t("#linkLogin").on("click",function(){a("wdw-login"),console.log("Nav - login clicked")}),t("#linkHome").on("click",function(){a("wdw-home"),console.log("Nav - Home Clicked ")}),t("#linkEvents").on("click",function(){a("wdw-events"),console.log("Nav - Link Event")}),t("#linkNews").on("click",function(){a("wdw-news"),console.log("Nav - News clicked")}),t("#linkCalendar").on("click",function(){a("wdw-calendar"),console.log("Nav - Calendar clicked")}),t("#linkAllEvents").on("click",function(){a("wdw-all-events"),console.log("Nav - all events click")}),t("#btnpostevent").on("click",function(){a("wdw-post-event"),console.log("Postclicke")}),t("#postnewevent").on("click",function(){a("wdw-post-event"),console.log("Post new event clicked ")}),v.indexOf(this),t(".fa-fa-trash").click(function(){console.log("Trashed clicked",v,v[u],v.length),v.splice(1,1)}),t("#manage-events").on("click",function(){a("wdw-manage-events"),console.log("manage events clicked ")}),t("#manage-users").on("click",function(){a("wdw-manage-users"),console.log("manage users clicked ")}),t("#registermember").on("click",function(){a("wdw-index"),console.log("manage-members clicked")}),t(".fa-fa-trash").click(function(){t(this).parent().hide(),console.log("Trash delete clicked ")})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93Iiwic1dpbmRvd0lkIiwiaGlkZSIsInNob3ciLCJpbml0UG9wRGF0YSIsImpFdmVudHMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJldmVudHMiLCJmb3JFYWNoIiwiaiIsImFwcGVuZCIsImlkIiwibmFtZSIsInRvcGljIiwic3BlYWtlciIsImRhdGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJ0aW1lXzI0aCIsImhvdXIiLCJtaW51dGUiLCJjb21wYXJlIiwiaW5wdXRWYWwiLCJkYXRhVmFsIiwiak9iaiIsImpEYXRhIiwiaW5wdXRWYWxMb3dlciIsInRvTG93ZXJDYXNlIiwiZGF0YVZhbExvd2VyIiwiY29uc29sZSIsImxvZyIsImJvb2wiLCJpbmNsdWRlcyIsInB1c2giLCJpc0xvZ2dlZEluIiwiZmFkZU91dCIsImZhZGVJbiIsInNlYXJjaEV2ZW50c0hvbWUiLCJpbnB1dCIsImZpbHRlciIsImZpZ2NsYXNzIiwiZmlnY2FwIiwibG9jYXRpb24iLCJpIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJpbmRleE9mIiwic3R5bGUiLCJkaXNwbGF5Iiwic2VhcmNoRXZlbnRzIiwidGFibGUiLCJ0ciIsInRkIiwiZ2V0UG9zdCIsInNJbWFnZVVybCIsInZhbCIsInNwb3N0dGl0ZWwiLCJzUG9zdERlc2MiLCJzUG9zdExvY2F0aW9uIiwiUG9zdCIsInBvc3RpbWFnZXVybCIsInBvc3R0aXRlbCIsInBvc3RkZXNjIiwicG9zdGxvYyIsImxvZ2luQWRtaW4iLCJ1c2VyQ3JlZHNBZG1pbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiYUV2ZW50cyIsInNFdmVudHMiLCJzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSIsIm9uIiwic0V2ZW50SWQiLCJEYXRlIiwiZ2V0VGltZSIsInNwb3N0ZXZlbnQiLCJzTGluayIsImpFdmVudCIsImltYWdlVXJsIiwicG9zdGV2ZW50IiwiUG9zdERlc2MiLCJzRmluYWxFdmVudHMiLCJlYWNoIiwiaW5kZXgiLCJ0aGlzIiwidGV4dCIsImNzcyIsImlucHV0U2VhcmNoRmllbGQiLCJhSW5wdXQiLCJzcGxpdCIsImpSZXN1bHRzIiwialRlbXAiLCJhIiwidGVtcCIsImxldmVsIiwib3JnIiwic3BlYWtlcl9vcmdhbml6YXRpb24iLCJqUmVzdWx0c0ZpbmFsIiwiZWxlbSIsInNlbGYiLCJlbXB0eSIsImJhc2VOdW1iZXIiLCJhVG9waWNzIiwiZ2V0SlNPTiIsImRvbmUiLCJzRGF0YSIsInJlYWR5Iiwia2V5dXAiLCJjcmVkZW50aWFscyIsImdldEl0ZW0iLCJjcmVkZW50aWFsc01lbWJlciIsInVzZXJuYW1lSW5wdXQiLCJpbnB1dGZuYW1lIiwiaW5wdXRsbmFtZSIsImlucHV0ZW1haWwiLCJpbnB1dGxvY2F0aW9uIiwiaW5wdXR1c2VybmFtZSIsImlucHV0cGFzcyIsInVzZXJDcmVkcyIsImZuYW1lIiwibG5hbWUiLCJlbWFpbCIsInVzZXJuYW0iLCJjbGljayIsInNwbGljZSIsInBhcmVudCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Q0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFlBR0EsU0FBQUMsR0FBQUMsR0FDQUwsRUFBQSxRQUFBTSxPQUNBTixFQUFBLElBQUFLLEdBQUFFLE9BZ1BBLFFBQUFDLEtBR0EsR0FBQUMsR0FBQUMsS0FBQUMsTUFBQUMsYUFBQUMsT0FDQUosR0FBQUssUUFBQSxTQUFBQyxHQUNBZixFQUFBLHdCQUFBZ0IsT0FBQSxzQkFBQUQsRUFBQUUsR0FBQSw2QkFDQUYsRUFBQUcsS0FBQSxnQ0FDQUgsRUFBQUksTUFBQSxnQ0FDQUosRUFBQUssUUFBQSxnQ0FDQUwsRUFBQU0s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TUFFQWpHLEVBQUEsZ0JBQUF3SSxNQUFBLFdBQ0FwRyxRQUFBQyxJQUFBLGtCQUFBNEMsRUFBQUEsRUFBQS9CLEdBQUErQixFQUFBMUIsUUFDQTBCLEVBQUF3RCxPQUFBLEVBQUEsS0FLQXpJLEVBQUEsa0JBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEscUJBQ0FnQyxRQUFBQyxJQUFBLDRCQUlBckMsRUFBQSxpQkFBQW9GLEdBQUEsUUFBQSxXQUNBaEYsRUFBQSxvQkFDQWdDLFFBQUFDLElBQUEsMkJBSUFyQyxFQUFBLG1CQUFBb0YsR0FBQSxRQUFBLFdBRUFoRixFQUFBLGFBQ0FnQyxRQUFBQyxJQUFBLDRCQUlBckMsRUFBQSxnQkFBQXdJLE1BQUEsV0FDQXhJLEVBQUFpRyxNQUFBeUMsU0FBQXBJLE9BQ0E4QixRQUFBQyxJQUFBLDRCQU1Bc0csT0FBQTFJLE9BQUFDIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcbiAgXG4gICAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgICAgIC8vSGlkZS9TaG93IC0gV2R3IFxuICAgICAgZnVuY3Rpb24gaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KHNXaW5kb3dJZCkge1xuICAgICAgICAkKCcud2R3JykuaGlkZSgpOyAvL2ZhZGVvdXQgNTAwIFxuICAgICAgICAkKCcjJyArIHNXaW5kb3dJZCkuc2hvdygpOyAvLyBmYWRlIGluIDUwMCBcbiAgICAgIH1cbiAgXG4gIFxuICBcbiAgICAgIC8vU3RvcmluZyBldmVudHMgXG4gICAgICB2YXIgYUV2ZW50cyA9IFtdOyBcbiAgXG4gICAgICAvL0NoZWtraW5nIGZvciBsb2NhbCBzdG9yYWdlIFxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5zRXZlbnRzKSB7XG4gICAgICAgIC8vIHJlYWQgdGhlIHRleHQgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxuICAgICAgICAvLyBjb252ZXJ0IHRoYXQgdGV4dCBpbnRvIGFuIG9iamVjdFxuICAgICAgICB2YXIgc0V2ZW50c0Zyb21Mb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2Uuc0V2ZW50czsgXG4gICAgICAgIGFFdmVudHMgPSBKU09OLnBhcnNlKHNFdmVudHNGcm9tTG9jYWxTdG9yYWdlKTsgICAgIFxuICAgICAgfVxuICBcbiAgXG4gICAgJChmdW5jdGlvbiAoKSB7IC8vUGVyZm9ybWFuY2UgaW4gaGVyZSAtLT4gbG9hZCBhc3luYyBmaXJzdCBwcmlvcml0eSBcbiAgICAgIC8vIEZhc3RTaGVsbFxuICAgIH0pO1xuICBcbiAgXG4gICBcbiAgXG4gIC8vQ3JlYXRlIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9BZGRzIGV2ZW50cyB0byBzZWFyY2ggLS0gc2NoZWR1bGUgY2FsZW5kYXIgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFFdmVudHMubGVuZ3RoOyBpKyspIHsgIC8vdGVtcGxhdGluZyBcbiAgICAgIC8vYXBwZW5kICBcbiAgICAgICQoJyNsYmxFdmVudHMnKS5hcHBlbmQoXG4gICAgICAgICc8dHI+JyArXG4gICAgICAgICc8dGggc2NvcGU9XCJyb3dcIj4nKyc8aDQ+JythRXZlbnRzW2ldLmlkKyc8L2g0PicrJzwvdGg+JytcbiAgICAgICAgJzx0ZD4nKyc8aDQ+JythRXZlbnRzW2ldLm5hbWUrJzwvaDQ+JysnPC90ZD4nK1xuICAgICAgICAvLyc8dGQgY2xhc3M9XCJldmVudFByaWNlXCI+JytldmVudFByaWNlQ2hhbmdlKyc8L3RkPicrXG4gICAgICAgICc8dGQ+PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L3RkPicrXG4gICAgICAgICc8L3RyPicpOyBcdFxuICAgICAgfVxuICBcbiAgXG4gICAgICAvL0FkZCBuZXcgRXZlbnRcbiAgICAkKCcjcG9zdGJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBcbiAgICAgIHZhciBzRXZlbnRJZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIHNJbWFnZVVybCA9ICQoJyNpbnB1dHBvc3RpbWcnKS52YWwoKTtcbiAgICAgIHZhciBzcG9zdGV2ZW50ID0gJCgnI2lucHV0cG9zdGV2ZW50JykudmFsKCk7XG4gICAgICB2YXIgc1Bvc3REZXNjID0gJCgnI2lucHV0cG9zdGRlc2MnKS52YWwoKTtcbiAgICAgIHZhciBzUG9zdExvY2F0aW9uID0gJCgnI2lucHV0cG9zdGxvY2F0aW9uJykudmFsKCk7IFxuICAgICAgdmFyIHNMaW5rID0gJ2xpbmsnO1xuICBcbiAgICAgIC8vY29uc29sZS5sb2coc0ltYWdlVXJsICsgc3Bvc3R0aXRlbCArIHNQb3N0RGVzYyArIHNQb3N0TG9jYXRpb24pO1xuICAgICAgLy9CZWZvcmUgLmNhbGVuZGFyLWJhY2sgXG4gICAgICAkKCcjbGJsRXZlbnRzJykuYXBwZW5kKFxuICAgICAgICAnPHRyPicgKyBcbiAgICAgICAgICAnPHRkPicrc3Bvc3RldmVudCsnPC90ZD4nK1xuICAgICAgICAgICc8dGQ+JytzUG9zdExvY2F0aW9uKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD4nK3NFdmVudElkKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD4nK3NMaW5rKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvdGQ+JytcbiAgICAgICAgJzwvdHI+Jyk7XG4gIFxuICAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctY2FsZW5kYXInKTtcbiAgXG4gIFxuICAgICAgdmFyIGpFdmVudCA9IHt9O1xuICAgICAgakV2ZW50LmlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICBqRXZlbnQuaW1hZ2VVcmwgPSBzSW1hZ2VVcmw7XG4gICAgICBqRXZlbnQucG9zdGV2ZW50ID0gc3Bvc3RldmVudDtcbiAgICAgIGpFdmVudC5Qb3N0RGVzYyA9IHNQb3N0RGVzYztcbiAgICAgIGpFdmVudC5zUG9zdExvY2F0aW9uID0gc1Bvc3RMb2NhdGlvbjtcbiAgICAgIGFFdmVudHMucHVzaChqRXZlbnQpO1xuICAgICAgLy9jb25zb2xlLmxvZyhhRXZlbnRzKTtcbiAgICAgIC8vU2F2ZSB0byBMb2NhbCBzdG9yYWdlXG4gICAgICB2YXIgc0ZpbmFsRXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoYUV2ZW50cyk7XG4gICAgICAvL3VwZGF0ZSB0aGUgc0V2ZW50cyB0byBsb2NhbCB0ZXh0XG4gICAgICBsb2NhbFN0b3JhZ2Uuc0V2ZW50cyA9IHNGaW5hbEV2ZW50cztcbiAgXG4gICAgICAvL1JlYWQgZnJvbSBsb2NhbHN0b3JhZ2UgYW5kIHVwZGF0ZSBvbiBsb2FkIHRoZSBzZWFyY2ggY2FsZW5kYXIgd2l0aG8gYmJqZWN0cyBcbiAgICB9KTtcbiAgXG4gIFxuICAgICQoJyNsYmxFdmVudHMgZGl2JykuZWFjaChmdW5jdGlvbiggaW5kZXggKSB7XG4gICAgICBjb25zb2xlLmxvZyggaW5kZXggKyAnOiAnICsgJCh0aGlzKS50ZXh0KCkpO1xuICAgICAgJCh0aGlzKS5jc3M7XG4gICAgfSk7XG4gICAgICBcblxuICBcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8vRnVuY3Rpb25zIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgXG5cblxuICAgIC8vTmV3IFVwZGF0ZWQgU2VhcmNoIGZlYXR1cmUgXG5cbiAgICAkKCcjc2VhcmNoRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy9nZXQgaW5wdXQgdmFsdWUgb2YgI3NlYXJjaC1lbmdpbmVcbiAgICAgIHZhciBpbnB1dFNlYXJjaEZpZWxkID0gICQoJyNzZWFyY2hmcm9udCcpLnZhbCgpO1xuICAgICAgdmFyIGFJbnB1dCA9IGlucHV0U2VhcmNoRmllbGQuc3BsaXQoXCIgXCIpO1xuICAgICAgdmFyIGpSZXN1bHRzID0gW107XG5cbiAgICAgIGNvbnNvbGUubG9nKGFJbnB1dCk7XG4gICAgICAvL1N0b3AgXG5cbiAgICAgIC8vZ2V0IGluc3RhbmNlIG9mIGxvY2FsU3RvcmFnZSAgIC8vTUlzc2luZyBwdXQgZmlndXJlIGNhcCBpbnRvIGxvY2Fsc3RvcmFnZSBcbiAgICAgIHZhciBqVGVtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmV2ZW50cyk7XG4gICAgICBcbiAgICAgIC8vY2hlY2sgZWFjaCBhSW5wdXQgZm9yIGEgbWF0Y2hcbiAgICAgIGFJbnB1dC5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcblxuICAgICAgICB2YXIgdGVtcCA9IGE7XG5cbiAgICAgICAgalRlbXAuZm9yRWFjaChmdW5jdGlvbihqKXtcblxuICAgICAgICAgIHZhciBuYW1lID0gai5uYW1lO1xuICAgICAgICAgIHZhciB0b3BpYyA9IGoudG9waWM7XG4gICAgICAgICAgdmFyIGxldmVsID0gai5sZXZlbDtcbiAgICAgICAgICB2YXIgb3JnID0gai5zcGVha2VyX29yZ2FuaXphdGlvbjtcbiAgICAgICAgICB2YXIgbG9jYXRpb24gPSBqLmxvY2F0aW9uO1xuXG4gICAgICAgICAgY29tcGFyZSh0ZW1wLCBuYW1lLCBqLCBqUmVzdWx0cyk7XG4gICAgICAgICAgLy9jb21wYXJlKHRlbXAsIHRvcGljLCBqLCBqUmVzdWx0cyk7IC8vdGhpcyBpcyBhbiBhcnJheVxuICAgICAgICAgIGNvbXBhcmUodGVtcCwgbGV2ZWwsIGosIGpSZXN1bHRzKTtcbiAgICAgICAgICBjb21wYXJlKHRlbXAsIG9yZywgaiwgalJlc3VsdHMpO1xuICAgICAgICAgIC8vY29tcGFyZSh0ZW1wLCBsb2NhdGlvbiwgaiwgalJlc3VsdHMpOyAvL3RoaXMgaXMgYSBKU09OIG9iamVjdFxuXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vcmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICAgIGNvbnNvbGUubG9nKGpSZXN1bHRzKTtcblxuICAgICAgdmFyIGpSZXN1bHRzRmluYWwgPSBqUmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oZWxlbSwgaW5kZXgsIHNlbGYpIHtcbiAgICAgIHJldHVybiBpbmRleCA9PSBzZWxmLmluZGV4T2YoZWxlbSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coalJlc3VsdHNGaW5hbCk7XG5cbiAgICAgIC8vY2xlYXIgZGVmYXVsdCBpdGVtcyBmcm9tIFxuICAgICAgJCgnI2V2ZW50LWxpc3RpbmcnKS5lbXB0eSgpO1xuXG4gICAgICB2YXIgYmFzZU51bWJlciA9IGpSZXN1bHRzRmluYWwubGVuZ3RoIC8gMztcbiAgICAgIGNvbnNvbGUubG9nKCdUaGUgYmFzZSBudW1iZXIgaXM6ICcgKyBiYXNlTnVtYmVyKTtcblxuICAgICAgLy9hcHBlbmQgdG8gRE9NXG4gICAgICBqUmVzdWx0c0ZpbmFsLmZvckVhY2goZnVuY3Rpb24oaikge1xuICAgICAgICB2YXIgYVRvcGljcyA9IGoudG9waWM7XG5cbiAgICAgICAgY29uc29sZS5sb2coalJlc3VsdHNGaW5hbC5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLmxvZyhqLm5hbWUpO1xuXG4gICAgICAgIC8vZ2V0IGFuIGluc3RhbmNlIG9mIGFuIGV2ZW50IGFuZCBhcHBlbmQgaXQgdG8gdGhlIERPTS4uXG4gICAgICAgICQoJyNldmVudC1saXN0aW5nJykuYXBwZW5kKCdcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LXRoaXJkc1wiIGRhdGEtZXZlbnQtaWQ9XCInICsgai5pZCArICdcIj5cXFxuICAgICAgICAgICAgICA8ZGl2PlxcXG4gICAgICAgICAgICAgICAgPGgxPicgKyBqLm5hbWUgKyAnPC9oMT5cXFxuICAgICAgICAgICAgICAgIDxoMj4nICsgYVRvcGljcyArICc8L2gyPlxcXG4gICAgICAgICAgICAgICAgPGg1PicgKyBqLmRhdGUuZGF5ICsgJy0nICsgai5kYXRlLm1vbnRoICsgJy0nICsgai5kYXRlLnllYXIgKyAnPC9oNT5cXFxuICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAnKTtcblxuXG4gICAgICB9KTtcbiAgfSk7IC8vRW5kIG5ldyBzZWFyY2ggZmVhdHVyZSBcblxuXG5cbiAgaWYgKGxvY2FsU3RvcmFnZS5ldmVudHMgPT0gbnVsbCkge1xuICAgIC8vaW1wb3J0IGRhdGEgZnJvbSBkYXRhL2V2ZW50cy5qc29uXG4gICAgLy9pbnB1dCBpbnRvIGxvY2FsU3RvcmFnZS5ldmVudHNcbiAgICAvL2pzb24gZmlsZSB3aWxsIGFsd2F5cyBoYXZlIGRhdGEsIHdoaWNoIGlzIHdoeSB0aGlzIG1ldGhvZCB3aWxsIGFsd2F5cyB3b3JrIVxuICAgIGNvbnNvbGUubG9nKCdsb2NhbFN0b3JhZ2UuZXZlbnRzIGlzIGVtcHR5Jyk7XG4gICAgJC5nZXRKU09OKCdhc3NldHMvZGF0YS9ldmVudHMuanNvbicpLmRvbmUoIGZ1bmN0aW9uKGpEYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZyhqRGF0YSk7XG4gICAgICAvL3B1dCB0aGUgakRhdGEgb2JqZWN0cyBpbnRvIGxvY2FsU3RvcmFnZVxuICAgICAgdmFyIHNEYXRhID0gSlNPTi5zdHJpbmdpZnkoakRhdGEpO1xuICAgICAgbG9jYWxTdG9yYWdlLmV2ZW50cyA9IHNEYXRhO1xuICAgICAgY29uc29sZS5sb2coJ2xvY2FsU3RvcmFnZS5ldmVudHMgc3VjY2Vzc2Z1bGx5IHBvcHVsYXRlZCcpO1xuXG4gICAgICB2YXIgc0V2ZW50cyA9IGxvY2FsU3RvcmFnZS5ldmVudHM7XG4gICAgICB2YXIgakV2ZW50cyA9IEpTT04ucGFyc2Uoc0V2ZW50cyk7XG5cbiAgICAgIGpFdmVudHMuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICAgIGlmIChqRXZlbnRzLmluZGV4T2YoaikgPD0gOSkge1xuICAgICAgICAgIC8vc3RhcnRcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuXG4gICAgICAgICAgdmFyIGFUb3BpY3MgPSBqLnRvcGljO1xuXG4gICAgICAgICAgJCgnI2V2ZW50LWxpc3RpbmcnKS5hcHBlbmQoJ1xcXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJldmVudC10aGlyZHNcIiBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcbiAgICAgICAgICAgICAgICA8ZGl2PlxcXG4gICAgICAgICAgICAgICAgICA8aDE+JyArIGoubmFtZSArICc8L2gxPlxcXG4gICAgICAgICAgICAgICAgICA8aDI+JyArIGFUb3BpY3MgKyAnPC9oMj5cXFxuICAgICAgICAgICAgICAgICAgPGg1PicgKyBqLmRhdGUuZGF5ICsgJy0nICsgai5kYXRlLm1vbnRoICsgJy0nICsgai5kYXRlLnllYXIgKyAnPC9oNT5cXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgJyk7XG4gICAgICAgICAgLy9lbmRcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGluaXRQb3BEYXRhKCk7IC8vcG9wdWxhdGUgZGF0YSBpbiBldmVudC1tYW5hZ2VtZW50IHRhYmxlXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmV2ZW50cykge1xuICAgIC8vbG9hZCBldmVyeXRoaW5nIGZyb20gbG9jYWxzdG9yYWdlIGFuZCBwb3B1bGF0ZSB0aGUgZGl2IHdpdGggZGF0YS4uXG4gICAgY29uc29sZS5sb2coXCJsb2NhbFN0b3JhZ2UuZXZlbnRzIGhhcyBkYXRhXCIpO1xuICAgIFxuICAgIHZhciBzRXZlbnRzID0gbG9jYWxTdG9yYWdlLmV2ZW50cztcbiAgICB2YXIgakV2ZW50cyA9IEpTT04ucGFyc2Uoc0V2ZW50cyk7XG5cbiAgICBqRXZlbnRzLmZvckVhY2goZnVuY3Rpb24oaikge1xuICAgICAgaWYgKGpFdmVudHMuaW5kZXhPZihqKSA8PSA5KSB7XG4gICAgICAgIC8vc3RhcnRcbiAgICAgICAgY29uc29sZS5sb2coXCJ3b3Jrc1wiKTtcblxuICAgICAgICB2YXIgYVRvcGljcyA9IGoudG9waWM7XG5cbiAgICAgICAgJCgnI2V2ZW50LWxpc3RpbmcnKS5hcHBlbmQoJ1xcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXZlbnQtdGhpcmRzXCIgZGF0YS1ldmVudC1pZD1cIicgKyBqLmlkICsgJ1wiPlxcXG4gICAgICAgICAgICAgIDxkaXY+XFxcbiAgICAgICAgICAgICAgICA8aDE+JyArIGoubmFtZSArICc8L2gxPlxcXG4gICAgICAgICAgICAgICAgPGgyPicgKyBhVG9waWNzICsgJzwvaDI+XFxcbiAgICAgICAgICAgICAgICA8aDU+JyArIGouZGF0ZS5kYXkgKyAnLScgKyBqLmRhdGUubW9udGggKyAnLScgKyBqLmRhdGUueWVhciArICc8L2g1PlxcXG4gICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAnKTtcbiAgICAgICAgLy9lbmRcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGluaXRQb3BEYXRhKCk7XG4gIH1cblxuXG4gIFxuXG4gIGZ1bmN0aW9uIGluaXRQb3BEYXRhKCkge1xuICAgIC8vc2luY2UgbG9jYWxzdG9yYWdlIHdpbGwgYWx3YXlzIGhhdmUgdmFsdWVzLFxuICAgIC8vYXBwZW5kIGFsbCBvZiBsb2NhbHN0b3JhZ2UncyBjb250ZW50IHRvIHRoZSBjb3JyZXNwb25kaW5nIHRhYmxlXG4gICAgdmFyIGpFdmVudHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5ldmVudHMpO1xuICAgIGpFdmVudHMuZm9yRWFjaCggZnVuY3Rpb24oaikge1xuICAgICAgJCgnI2V2ZW50LWxpc3RpbmcgdGJvZHknKS5hcHBlbmQoJzx0ciBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLm5hbWUgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGoudG9waWMgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGouc3BlYWtlciArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai5kYXRlLmRheSArICcgJyArIGouZGF0ZS5tb250aCArICcgJyArIGouZGF0ZS55ZWFyICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLnRpbWVfMjRoLmhvdXIgKyAnOicgKyBqLnRpbWVfMjRoLm1pbnV0ZSArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgaWQ9XCJlZGl0LWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgaWQ9XCJkZWxldGUtZXZlbnQtaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxcXG5cdFx0XHQnKTtcbiAgICB9KTtcbiAgfVxuXG5cblxuICBmdW5jdGlvbiBjb21wYXJlKGlucHV0VmFsLCBkYXRhVmFsLCBqT2JqLCBqRGF0YSkge1xuICAgIHZhciBpbnB1dFZhbExvd2VyID0gaW5wdXRWYWwudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgZGF0YVZhbExvd2VyID0gZGF0YVZhbC50b0xvd2VyQ2FzZSgpO1xuICBcbiAgICBjb25zb2xlLmxvZygnVGhlIGlucHV0IHZhbHVlIGlzOiAnICsgaW5wdXRWYWxMb3dlcik7XG4gICAgY29uc29sZS5sb2coJ1RoZSBKU09OIGRhdGEgdG8gY29tcGFyZSBpczogJyArIGRhdGFWYWxMb3dlcik7XG4gIFxuICAgIHZhciBib29sID0gZGF0YVZhbExvd2VyLmluY2x1ZGVzKGlucHV0VmFsTG93ZXIpO1xuICAgIGNvbnNvbGUubG9nKCdUaGUgYm9vbCA9ICcgKyBib29sKTtcbiAgXG4gICAgICBpZiAoYm9vbCA9PSB0cnVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNYXRjaCBtYWRlJyk7XG4gICAgICAgIGpEYXRhLnB1c2goak9iaik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnRmFsc2UnKTtcbiAgICAgIH1cbiAgfVxuICBcbiAgXG4gIC8vb24gbG9hZFxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctaG9tZScpOyBcbiAgICAgJCgnI3dkdy1ldmVudC1saXN0aW5nJykuZmFkZUluKDUwMCk7XG4gICAgLy8gICQoJy5kcm9wZG93bicpLmhpZGUoKTtcbiAgfSk7XG4gIFxuICBcbiAgZnVuY3Rpb24gaXNMb2dnZWRJbigpIHtcbiAgICAvL2lmKGxvY2FsU3RvcmFnZS51c2VyQ3JlZHMpe1xuICAgICQoJyNsaW5rUmVnaXN0ZXInKS5mYWRlT3V0KDUwMCk7XG4gICAgJCgnI2xpbmtMb2dpbicpLmZhZGVPdXQoNTAwKTtcbiAgICAkKCcjbGlua0xvZ291dCcpLmZhZGVJbig1MDApO1xuICAgICAvL31cbiAgfVxuICBcbiAgLy9mdW5jIGxvZ291dCBcbiAgXG4gIFxuICBmdW5jdGlvbiBzZWFyY2hFdmVudHNIb21lKCkge1xuICAgIHZhciBpbnB1dCwgZmlsdGVyLCBmaWdjbGFzcyAsIGZpZ2NhcCAsbG9jYXRpb24saTtcbiAgXG4gICAgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoZnJvbnQnKTtcbiAgICBmaWx0ZXIgPSBpbnB1dC52YWx1ZS50b1VwcGVyQ2FzZSgpOyBcbiAgICBmaWdjbGFzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZmZlY3QtbWlsbycpOyBcbiAgICBmaWdjYXAgPSBmaWdjbGFzcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbG9jYXRpb24nKTtcblxuICAgIGNvbnNvbGUubG9nKGZpZ2NhcCk7XG4gICAgLy9Mb29wIHRocm91Z2ggYWxsIGZpZyBjYXB0aW9ucyBhbmQgaGlkZS9zaG93XG4gICAgZm9yKGkgPSAwOyBpIDwgIGZpZ2NhcC5sZW5ndGg7IGkrKykge1xuICAgICAgbG9jYXRpb24gPSBmaWdjYXBbaV0uZ2V0RWxlbWVudEJ5SWQoJ3NwYW4nKVswXTtcbiAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKGZpZ2NhcFtpXSArIGZpZ2NhcCk7XG4gIFxuICAgICAgaWYobG9jYXRpb24pIHtcbiAgICAgICAgaWYgKGxvY2F0aW9uLmlubmVySFRNTC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyKSA+IC0xKSB7XG4gICAgICAgICAgZmlnY2FwW2ldLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICBjb25zb2xlLmxvZyhmaWdjYXBbaV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpZ2NhcFtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGZpZ2NhcFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIFxuICB9XG4gIFxuICAkKCcjc2VhcmNoZnJvbnQnKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICBzZWFyY2hFdmVudHNIb21lKCk7XG4gICAgY29uc29sZS5sb2coJ3NlYXJjaGlnbiwnKTtcbiAgfSk7XG4gIFxuICAvL1NlcmFjaCBFdmVudHMgRHluYW1pY2lhbHkgXG4gIGZ1bmN0aW9uIHNlYXJjaEV2ZW50cygpIHtcbiAgICAvLyBEZWNsYXJlIHZhcmlhYmxlcyBcbiAgICB2YXIgaW5wdXQsIGZpbHRlciwgdGFibGUsIHRyLCB0ZCwgaTtcbiAgICBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUlucHV0Jyk7XG4gICAgZmlsdGVyID0gaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKTtcbiAgICB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteVRhYmxlJyk7XG4gICAgdHIgPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndHInKTtcbiAgXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0YWJsZSByb3dzLCBhbmQgaGlkZSB0aG9zZSB3aG8gZG9uJ3QgbWF0Y2ggdGhlIHNlYXJjaCBxdWVyeVxuICAgIGZvciAoaSA9IDA7IGkgPCB0ci5sZW5ndGg7IGkrKykge1xuICAgICBcbiAgICAgIHRkID0gdHJbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJylbMF07XG4gICAgICBpZiAodGQpIHtcbiAgICAgICAgaWYgKHRkLmlubmVySFRNTC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyKSA+IC0xKSB7XG4gICAgICAgICAgdHJbaV0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgIH0gXG4gICAgfVxuICB9XG4gIFxuICBcbiAgLy9TZWFyY2ggVGhyb3VnaCBUYWJsZSAtPiBcbiAgJCgnI215SW5wdXQnKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICBzZWFyY2hFdmVudHMoKTtcbiAgfSk7XG4gIFxuICBcbiAgLypcbiAgZnVuY3Rpb24gY3JlYXRlUG9zdCgpIHsgLy9UYWtlcyBvYmplY3QgIFBvc3QgXG4gIC8qXG4gICAgJCgnI3dkdy1hbGwtZXZlbnRzJykuZW1wdHkoKTsgXG4gICAgdmFyIHNQb3N0VGVtcGxhdGUgPSBcbiAgICAnPGRpdiBjbGFzcz1cImdyaWRfam9iXCI+PGZpZ3VyZSBjbGFzcz1cImVmZmVjdC1taWxvXCIgaWQ9XCJmaWd1cmUxXCI+XFxcbiAgICAgPGltZyBjbGFzcz1cImZlYXR1cmVkLWNvbXBhbnlfX2ltYWdlXCIgc3JjPVwiJHtQb3N0LmltZ31cIiBhbHQ9XCJcIj48ZmlnY2FwdGlvbj5cXFxuICAgICA8aDI+JHtQb3N0LnRpdGxlfSA8c3Bhbj4gJHtQb3N0LmxvY2F0aW9ufSA8L3NwYW4+XFxcbiAgICAgPC9oMj48cD4ke2Rlc2N9PC9wPjxhIGhyZWY9XCIjXCI+VmlldyBtb3JlPC9hPjwvZmlnY2FwdGlvbj48L2ZpZ3VyZT48L2Rpdj5cXFxuICAgICAnO1xuICBcbiAgICAgJCgnI3dkLWFsbC1ldmVudHMnKS5hcHBlbmQoc1Bvc3RUZW1wbGF0ZSk7XG4gIFxuICAgIFxuICB9XG4gICovXG4gIFxuICBcbiAgZnVuY3Rpb24gZ2V0UG9zdCgpIHtcbiAgICB2YXIgc0ltYWdlVXJsID0gJCgnI2lucHV0cG9zdGltZycpLnZhbCgpO1xuICAgIHZhciBzcG9zdHRpdGVsID0gJCgnI2lucHV0cG9zdHRpdGVsJykudmFsKCk7XG4gICAgdmFyIHNQb3N0RGVzYyA9ICQoJyNpbnB1dHBvc3RkZXNjJykudmFsKCk7XG4gICAgICB2YXIgc1Bvc3RMb2NhdGlvbiA9ICQoJyNpbnB1dHBvc3Rsb2NhdGlvbicpLnZhbCgpOyBcbiAgXG4gICAgLy9jb25zb2xlLmxvZyhzSW1hZ2VVcmwgKyBzcG9zdHRpdGVsICsgc1Bvc3REZXNjICsgc1Bvc3RMb2NhdGlvbik7XG4gICAgXG4gICAgdmFyIFBvc3QgPSB7XG4gICAgICAncG9zdGltYWdldXJsJzpzSW1hZ2VVcmwsXG4gICAgICAncG9zdHRpdGVsJzogc3Bvc3R0aXRlbCxcbiAgICAgICdwb3N0ZGVzYyc6IHNQb3N0RGVzYyxcbiAgICAgICdwb3N0bG9jJzogc1Bvc3RMb2NhdGlvblxuICAgIH07XG4gIFxuICAgIC8vRGl2IGFwcGVuZCBcbiAgICBjb25zb2xlLmxvZyhQb3N0KTtcbiAgICBcbiAgXG4gICAgLy9Db252ZXJ0cyB0byBvYmplY3RzICBcbiAgfVxuICBcbiAgXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGxvZ2luQWRtaW4oKTtcbiAgfSk7XG4gIFxuICBmdW5jdGlvbiBsb2dpbkFkbWluKCkge1xuICAgICAgdmFyIHVzZXJDcmVkc0FkbWluID0ge1xuICAgICAgJ3VzZXJuYW1lJzogJ3VzZXJuYW1lJyxcbiAgICAgICdwYXNzd29yZCc6ICdwYXNzd29yZCdcbiAgICB9O1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjcmVkZW50aWFscycsIEpTT04uc3RyaW5naWZ5KHVzZXJDcmVkc0FkbWluKSk7IFx0XHQgXG4gIH1cbiAgXG4gIFxuICBcbiAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIC8vTG9naW4gb24gcGFnZSAgXG4gICAgLy9BdXRoZW50aWNhdGlvbiBpcyBtaXNzaW5nIC0gYWRtaW4gLSBtZW1iZXJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gXG4gICQoJyNsb2dpbmJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBjcmVkZW50aWFscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyZWRlbnRpYWxzJykpOyBcbiAgICB2YXIgY3JlZGVudGlhbHNNZW1iZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcmVkZW50aWFsc01lbWJlcicpKTsgXG4gIFxuICAgIHZhciB1c2VybmFtZUlucHV0ID0gJCgnI2lucHV0dXNlcm5hbWUnKS52YWwoKTtcbiAgICB2YXIgcGFzc3dvcmQgID0gJCgnI2lucHV0cGFzc3dvcmQnKS52YWwoKTtcbiAgICAvL2NvbnNvbGUubG9nKHVzZXJuYW1lSW5wdXQgKyBwYXNzd29yZCk7XG4gIFxuICAgIGlmKGNyZWRlbnRpYWxzLnVzZXJuYW1lID09PSB1c2VybmFtZUlucHV0ICYmIGNyZWRlbnRpYWxzLnBhc3N3b3JkID09PSBwYXNzd29yZCB8fCBjcmVkZW50aWFsc01lbWJlci51c2VybmFtZSA9PT0gdXNlcm5hbWVJbnB1dCAmJiBjcmVkZW50aWFsc01lbWJlci5wYXNzd29yZCA9PT0gcGFzc3dvcmQgKSB7XG4gICAgICAgY29uc29sZS5sb2coJ1dlbGNvbWUgTXIuICAgJyArIGNyZWRlbnRpYWxzLnVzZXJuYW1lKTtcbiAgICAgICBcbiAgICAgIC8vIGxvY2FsU3RvcmFnZS5sb2dnZWRJblVzZXIgPSBKU09OLnN0cmluZ2lmeShjcmVkZW50aWFscyk7XG4gICAgICAgaXNMb2dnZWRJbigpO1xuICAgICAgICQoJy5icmFuZCBoMScpLnRleHQoJ0hJICcgKyBjcmVkZW50aWFscy51c2VybmFtZSk7XG4gICAgICAgICBcbiAgXG4gICAgICAvLyBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1yZWdpc3Rlci1tZW1iZXInKTtcbiAgICAgIFxuICAgICAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1pbmRleCcpO1xuICBcbiAgICAgICAgY29uc29sZS5sb2coY3JlZGVudGlhbHNNZW1iZXIudXNlcm5hbWUgKyBjcmVkZW50aWFsc01lbWJlci5wYXNzd29yZCk7XG4gICAgIFxuICAgICAgICBcbiAgICAgICAgLy8gJCgnLmJyYW5kIGgxJykudGV4dCgnTG9nZ2VkIGluIGFzIE1lbWJlcicgKyAnICMgJyArIGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCBsb2dpbicpO1xuICAgIH1cbiAgXG4gIFxuICB9KTtcbiAgXG4gIFxuICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLy9SZWdpc3RlciB1c2VyIG9uIHBhZ2UgXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICQoJyNtZW1iZXJidG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgXG4gICAgdmFyIGlucHV0Zm5hbWUgPSAkKCcjaW5wdXRmbmFtZXJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dGxuYW1lID0gJCgnI2lucHV0bG5hbWVyZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXRlbWFpbCA9ICQoJyNpbnB1dGVtYWlscmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0bG9jYXRpb24gPSAkKCcjaW5wdXRsb2NhdGlvbnJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dHVzZXJuYW1lID0gJCgnI2lucHV0dXNlcm5hbWVyZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXRwYXNzID0gJCgnI2lucHV0cGFzc3dvcmRyZWcnKS52YWwoKTtcbiAgXG4gICAgLy9jb25zb2xlLmxvZygnTmV3IFJlZ2lzdGVyZCB1c2VyID0gICcgKyBpbnB1dHVzZXJuYW1lKTtcbiAgXG4gICAgdmFyIHVzZXJDcmVkcyA9IHtcbiAgICAgICdmbmFtZScgOiBpbnB1dGZuYW1lLFxuICAgICAgJ2xuYW1lJzogaW5wdXRsbmFtZSxcbiAgICAgICdlbWFpbCc6aW5wdXRlbWFpbCxcbiAgICAgICdsb2NhdGlvbic6aW5wdXRsb2NhdGlvbixcbiAgICAgICd1c2VybmFtJzogaW5wdXR1c2VybmFtZSxcbiAgICAgICdwYXNzd29yZCc6IGlucHV0cGFzcyxcbiAgICAgIFxuICAgIH07XG4gIFxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjcmVkZW50aWFsc01lbWJlcicsIEpTT04uc3RyaW5naWZ5KHVzZXJDcmVkcykpOyBcbiAgXG4gICAgY29uc29sZS5sb2coJ0xvY2FsIFN0b3JhZ2Ugc3RvcmUnLCB1c2VyQ3JlZHMpO1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWxvZ2luJyk7XG4gIFxuICB9KTsgXG4gIFxuICBcbiAgXG4gICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAvL0V2ZW50IExpc3RlbmVycyBcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgXG4gICAgLy9Qb3N0XG4gICAgJCgnI3Bvc3RidG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGdldFBvc3QoKTsgXG4gICAgY29uc29sZS5sb2coJ3Bvc3QgZXZlbnQnKTtcbiAgICB9KTtcbiAgXG4gIC8vTmF2IC0gTG9naW4gXG4gICQoJyNsaW5rTG9naW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbG9naW4nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdOYXYgLSBsb2dpbiBjbGlja2VkJyk7XG4gIH0pO1xuICBcbiAgLy9OYXYgLSBIb21lIFxuICAkKCcjbGlua0hvbWUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1ob21lJyk7XG4gICAgY29uc29sZS5sb2coJ05hdiAtIEhvbWUgQ2xpY2tlZCAnKTtcbiAgfSk7XG4gIFxuICBcbiAgLy9OYXYgLSBFdmVudFxuICAkKCcjbGlua0V2ZW50cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWV2ZW50cycpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBMaW5rIEV2ZW50Jyk7XG4gIH0pO1xuICBcbiAgXG4gIC8vTmF2IC0gTmV3cyBcbiAgJCgnI2xpbmtOZXdzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbmV3cycpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBOZXdzIGNsaWNrZWQnKTtcbiAgfSk7XG4gIFxuICAvL05hdiAtIENhbGVuZGFyIFxuICAkKCcjbGlua0NhbGVuZGFyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctY2FsZW5kYXInKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gQ2FsZW5kYXIgY2xpY2tlZCcpO1xuICB9KTtcbiAgXG4gIC8vTmF2IC0gQWxsIEV2ZW50cyBcbiAgJCgnI2xpbmtBbGxFdmVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1hbGwtZXZlbnRzJyk7XG4gICAgY29uc29sZS5sb2coJ05hdiAtIGFsbCBldmVudHMgY2xpY2snKTtcbiAgfSk7XG4gIFxuICBcbiAgLy9QYWdlIC0gUG9zdCBhbiBldmVudCBcbiAgJCgnI2J0bnBvc3RldmVudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LXBvc3QtZXZlbnQnKTtcbiAgICBjb25zb2xlLmxvZygnUG9zdGNsaWNrZScpO1xuICB9KTtcbiAgXG4gIC8vUG9zdCBuZXcgZXZlbnQgZnJvbSBJTkRleFxuICAkKCcjcG9zdG5ld2V2ZW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctcG9zdC1ldmVudCcpO1xuICAgIGNvbnNvbGUubG9nKCdQb3N0IG5ldyBldmVudCBjbGlja2VkICcpO1xuICB9KTtcblxuICAvL1JlbW92ZSBFdmVudFxuICBhRXZlbnRzLmluZGV4T2YodGhpcyk7IFxuICBcbiAgJCgnLmZhLWZhLXRyYXNoJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ1RyYXNoZWQgY2xpY2tlZCcsIGFFdmVudHMsIGFFdmVudHNbaV0sIGFFdmVudHMubGVuZ3RoKTtcbiAgICBhRXZlbnRzLnNwbGljZSgxLDEpO1xuICB9KTtcblxuXG4gIC8vTWFuYWdlIEV2ZW50cyBcbiAgJCgnI21hbmFnZS1ldmVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1tYW5hZ2UtZXZlbnRzJyk7XG4gICAgY29uc29sZS5sb2coJ21hbmFnZSBldmVudHMgY2xpY2tlZCAnKTtcbiAgfSk7XG4gIFxuICAvL01hbmFnZSB1c2VycyBcbiAgJCgnI21hbmFnZS11c2VycycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LW1hbmFnZS11c2VycycpO1xuICAgIGNvbnNvbGUubG9nKCdtYW5hZ2UgdXNlcnMgY2xpY2tlZCAnKTtcbiAgfSk7XG5cbiAgLy8gTWFuYWdlIG1lbWJlcnMgXG4gICQoJyNyZWdpc3Rlcm1lbWJlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIC8vIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LW1hbmFnZS1tZW1iZXJzJyk7IFxuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWluZGV4Jyk7IFxuICAgIGNvbnNvbGUubG9nKCdtYW5hZ2UtbWVtYmVycyBjbGlja2VkJyk7XG4gIH0pO1xuXG4gIC8vVHJhc2ggRGVsZXRlIHNlYXJjaCBldmVudHNcbiAgJCgnLmZhLWZhLXRyYXNoJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgY29uc29sZS5sb2coJ1RyYXNoIGRlbGV0ZSBjbGlja2VkICcpO1xuICB9KTtcbiAgXG4gIFxuICBcbiAgXG4gIH0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG4gICJdfQ==
