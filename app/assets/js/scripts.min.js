/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
!function(t,e,n,o){"use strict";function a(e){t(".wdw").hide(),t("#"+e).show()}function l(){var e=JSON.parse(localStorage.events);e.forEach(function(e){t("#event-listing tbody").append('<tr data-event-id="'+e.id+'">\t\t\t\t\t\t\t\t\t\t<td>'+e.name+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.topic+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.speaker+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.date.day+" "+e.date.month+" "+e.date.year+"</td>\t\t\t\t\t\t\t\t\t\t<td>"+e.time_24h.hour+":"+e.time_24h.minute+'</td>\t\t\t\t\t\t\t\t\t\t<td>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-pencil" id="edit-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-trash" id="delete-event-icon" aria-hidden="true"></i>\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t</tr>\t\t\t')})}function i(t,e,n,o){var a=t.toLowerCase(),l=e.toLowerCase();console.log("The input value is: "+a),console.log("The JSON data to compare is: "+l);var i=l.includes(a);console.log("The bool = "+i),1==i?(console.log("Match made"),o.push(n)):console.log("False")}function s(){t("#linkRegister").fadeOut(500),t("#linkLogin").fadeOut(500),t("#linkLogout").fadeIn(500)}function c(){var t,e,o,a,l,i;for(t=n.getElementById("searchfront"),e=t.value.toUpperCase(),o=n.getElementById("effect-milo"),a=o.getElementsByTagName("location"),console.log(a),i=0;i<a.length;i++)l=a[i].getElementById("span")[0],console.log(l),console.log(a[i]+a),l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?(a[i].style.display="",console.log(a[i])):(a[i].style.display="none",console.log(a[i])))}function r(){var t,e,o,a,l,i;for(t=n.getElementById("myInput"),e=t.value.toUpperCase(),o=n.getElementById("myTable"),a=o.getElementsByTagName("tr"),i=0;i<a.length;i++)l=a[i].getElementsByTagName("td")[0],l&&(l.innerHTML.toUpperCase().indexOf(e)>-1?a[i].style.display="":a[i].style.display="none")}function d(){var e=t("#inputpostimg").val(),n=t("#inputposttitel").val(),o=t("#inputpostdesc").val(),a=t("#inputpostlocation").val(),l={postimageurl:e,posttitel:n,postdesc:o,postloc:a};console.log(l)}function g(){var t={username:"username",password:"password"};localStorage.setItem("credentials",JSON.stringify(t))}console.log("script.js inititalized");var v=[];if(localStorage.sEvents){var p=localStorage.sEvents;v=JSON.parse(p)}t(function(){});for(var u=0;u<v.length;u++)t("#lblEvents").append('<tr><th scope="row"><h4>'+v[u].id+"</h4></th><td><h4>"+v[u].name+'</h4></td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>');if(t("#postbtn").on("click",function(){var e=(new Date).getTime(),n=t("#inputpostimg").val(),o=t("#inputpostevent").val(),l=t("#inputpostdesc").val(),i=t("#inputpostlocation").val(),s="link";t("#lblEvents").append("<tr><td>"+o+"</td><td>"+i+"</td><td>"+e+"</td><td>"+s+'</td><td><i class="fa fa-trash" aria-hidden="true"></i></td></tr>'),a("wdw-calendar");var c={};c.id=(new Date).getTime(),c.imageUrl=n,c.postevent=o,c.PostDesc=l,c.sPostLocation=i,v.push(c);var r=JSON.stringify(v);localStorage.sEvents=r}),t("#lblEvents div").each(function(e){console.log(e+": "+t(this).text()),t(this).css}),t("#searchEvents").on("click",function(){var e=t("#searchfront").val(),n=e.split(" "),o=[];console.log(n);var a=JSON.parse(localStorage.events);n.forEach(function(t){var e=t;a.forEach(function(t){var n=t.name,a=(t.topic,t.level),l=t.speaker_organization;t.location;i(e,n,t,o),i(e,a,t,o),i(e,l,t,o)})}),console.log(o);var l=o.filter(function(t,e,n){return e==n.indexOf(t)});console.log(l),t("#event-listing").empty();var s=l.length/3;console.log("The base number is: "+s),l.forEach(function(e){var n=e.topic;console.log(l.length),console.log(e.name),t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>          ")})}),null==localStorage.events)console.log("localStorage.events is empty"),t.getJSON("assets/data/events.json").done(function(e){console.log(e);var n=JSON.stringify(e);localStorage.events=n,console.log("localStorage.events successfully populated");var o=localStorage.events,a=JSON.parse(o);a.forEach(function(e){if(a.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('              <div class="event-thirds" data-event-id="'+e.id+'">                <div>                  <h1>'+e.name+"</h1>                  <h2>"+n+"</h2>                  <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>                </div>              </div>          ")}}),l()});else if(localStorage.events){console.log("localStorage.events has data");var f=localStorage.events,m=JSON.parse(f);m.forEach(function(e){if(m.indexOf(e)<=9){console.log("works");var n=e.topic;t("#event-listing").append('            <div class="event-thirds" data-event-id="'+e.id+'">              <div>                <h1>'+e.name+"</h1>                <h2>"+n+"</h2>                <h5>"+e.date.day+"-"+e.date.month+"-"+e.date.year+"</h5>              </div>            </div>        ")}}),l()}t(n).ready(function(){a("wdw-home")}),t("#searchfront").keyup(function(){c(),console.log("searchign,")}),t("#myInput").keyup(function(){r()}),t(n).ready(function(){g()}),t("#loginbtn").on("click",function(){var e=JSON.parse(localStorage.getItem("credentials")),n=JSON.parse(localStorage.getItem("credentialsMember")),o=t("#inputusername").val(),l=t("#inputpassword").val();e.username===o&&e.password===l||n.username===o&&n.password===l?(console.log("Welcome Mr.   "+e.username),s(),t(".brand h1").text("Logged in as Admin # "+e.username),a("wdw-index"),console.log(n.username+n.password)):console.log("failed login")}),t("#memberbtn").on("click",function(){var e=t("#inputfnamereg").val(),n=t("#inputlnamereg").val(),o=t("#inputemailreg").val(),l=t("#inputlocationreg").val(),i=t("#inputusernamereg").val(),s=t("#inputpasswordreg").val(),c={fname:e,lname:n,email:o,location:l,usernam:i,password:s};localStorage.setItem("credentialsMember",JSON.stringify(c)),console.log("Local Storage store",c),a("wdw-login")}),t("#postbtn").on("click",function(){d(),console.log("post event")}),t("#linkLogin").on("click",function(){a("wdw-login"),console.log("Nav - login clicked")}),t("#linkHome").on("click",function(){a("wdw-home"),console.log("Nav - Home Clicked ")}),t("#linkEvents").on("click",function(){a("wdw-events"),console.log("Nav - Link Event")}),t("#linkNews").on("click",function(){a("wdw-news"),console.log("Nav - News clicked")}),t("#linkCalendar").on("click",function(){a("wdw-calendar"),console.log("Nav - Calendar clicked")}),t("#linkAllEvents").on("click",function(){a("wdw-all-events"),console.log("Nav - all events click")}),t("#btnpostevent").on("click",function(){a("wdw-post-event"),console.log("Postclicke")}),v.indexOf(this),t(".fa-fa-trash").click(function(){console.log("Trashed clicked",v,v[u],v.length),v.splice(1,1)}),t("#manage-events").on("click",function(){a("wdw-manage-events"),console.log("manage events clicked ")}),t("#manage-users").on("click",function(){a("wdw-manage-users"),console.log("manage users clicked ")}),t("#manage-members").on("click",function(){a("wdw-manage-members"),console.log("manage-members clicked")}),t(".fa-fa-trash").click(function(){t(this).parent().hide(),console.log("Trash delete clicked ")})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93Iiwic1dpbmRvd0lkIiwiaGlkZSIsInNob3ciLCJpbml0UG9wRGF0YSIsImpFdmVudHMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJldmVudHMiLCJmb3JFYWNoIiwiaiIsImFwcGVuZCIsImlkIiwibmFtZSIsInRvcGljIiwic3BlYWtlciIsImRhdGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJ0aW1lXzI0aCIsImhvdXIiLCJtaW51dGUiLCJjb21wYXJlIiwiaW5wdXRWYWwiLCJkYXRhVmFsIiwiak9iaiIsImpEYXRhIiwiaW5wdXRWYWxMb3dlciIsInRvTG93ZXJDYXNlIiwiZGF0YVZhbExvd2VyIiwiY29uc29sZSIsImxvZyIsImJvb2wiLCJpbmNsdWRlcyIsInB1c2giLCJpc0xvZ2dlZEluIiwiZmFkZU91dCIsImZhZGVJbiIsInNlYXJjaEV2ZW50c0hvbWUiLCJpbnB1dCIsImZpbHRlciIsImZpZ2NsYXNzIiwiZmlnY2FwIiwibG9jYXRpb24iLCJpIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJpbmRleE9mIiwic3R5bGUiLCJkaXNwbGF5Iiwic2VhcmNoRXZlbnRzIiwidGFibGUiLCJ0ciIsInRkIiwiZ2V0UG9zdCIsInNJbWFnZVVybCIsInZhbCIsInNwb3N0dGl0ZWwiLCJzUG9zdERlc2MiLCJzUG9zdExvY2F0aW9uIiwiUG9zdCIsInBvc3RpbWFnZXVybCIsInBvc3R0aXRlbCIsInBvc3RkZXNjIiwicG9zdGxvYyIsImxvZ2luQWRtaW4iLCJ1c2VyQ3JlZHNBZG1pbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiYUV2ZW50cyIsInNFdmVudHMiLCJzRXZlbnRzRnJvbUxvY2FsU3RvcmFnZSIsIm9uIiwic0V2ZW50SWQiLCJEYXRlIiwiZ2V0VGltZSIsInNwb3N0ZXZlbnQiLCJzTGluayIsImpFdmVudCIsImltYWdlVXJsIiwicG9zdGV2ZW50IiwiUG9zdERlc2MiLCJzRmluYWxFdmVudHMiLCJlYWNoIiwiaW5kZXgiLCJ0aGlzIiwidGV4dCIsImNzcyIsImlucHV0U2VhcmNoRmllbGQiLCJhSW5wdXQiLCJzcGxpdCIsImpSZXN1bHRzIiwialRlbXAiLCJhIiwidGVtcCIsImxldmVsIiwib3JnIiwic3BlYWtlcl9vcmdhbml6YXRpb24iLCJqUmVzdWx0c0ZpbmFsIiwiZWxlbSIsInNlbGYiLCJlbXB0eSIsImJhc2VOdW1iZXIiLCJhVG9waWNzIiwiZ2V0SlNPTiIsImRvbmUiLCJzRGF0YSIsInJlYWR5Iiwia2V5dXAiLCJjcmVkZW50aWFscyIsImdldEl0ZW0iLCJjcmVkZW50aWFsc01lbWJlciIsInVzZXJuYW1lSW5wdXQiLCJpbnB1dGZuYW1lIiwiaW5wdXRsbmFtZSIsImlucHV0ZW1haWwiLCJpbnB1dGxvY2F0aW9uIiwiaW5wdXR1c2VybmFtZSIsImlucHV0cGFzcyIsInVzZXJDcmVkcyIsImZuYW1lIiwibG5hbWUiLCJlbWFpbCIsInVzZXJuYW0iLCJjbGljayIsInNwbGljZSIsInBhcmVudCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Q0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFlBS0EsU0FBQUMsR0FBQUMsR0FDQUwsRUFBQSxRQUFBTSxPQUNBTixFQUFBLElBQUFLLEdBQUFFLE9BZ1BBLFFBQUFDLEtBR0EsR0FBQUMsR0FBQUMsS0FBQUMsTUFBQUMsYUFBQUMsT0FDQUosR0FBQUssUUFBQSxTQUFBQyxHQUNBZixFQUFBLHdCQUFBZ0IsT0FBQSxzQkFBQUQsRUFBQUUsR0FBQSw2QkFDQUYsRUFBQUcsS0FBQSxnQ0FDQUgsRUFBQUksTUFBQSxnQ0FDQUosRUFBQUssUUFBQSxnQ0FDQUwsRUFBQU0s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QUFBK0IsRUFBQTFCLFFBQ0EwQixFQUFBd0QsT0FBQSxFQUFBLEtBS0F6SSxFQUFBLGtCQUFBb0YsR0FBQSxRQUFBLFdBQ0FoRixFQUFBLHFCQUNBZ0MsUUFBQUMsSUFBQSw0QkFJQXJDLEVBQUEsaUJBQUFvRixHQUFBLFFBQUEsV0FDQWhGLEVBQUEsb0JBQ0FnQyxRQUFBQyxJQUFBLDJCQUlBckMsRUFBQSxtQkFBQW9GLEdBQUEsUUFBQSxXQUNBaEYsRUFBQSxzQkFDQWdDLFFBQUFDLElBQUEsNEJBSUFyQyxFQUFBLGdCQUFBd0ksTUFBQSxXQUNBeEksRUFBQWlHLE1BQUF5QyxTQUFBcEksT0FDQThCLFFBQUFDLElBQUEsNEJBTUFzRyxPQUFBMUksT0FBQUMiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuICBcbiAgICAndXNlIHN0cmljdCc7XG4gIFxuICBjb25zb2xlLmxvZygnc2NyaXB0LmpzIGluaXRpdGFsaXplZCcpO1xuICBcbiAgICAgIC8vSGlkZS9TaG93IC0gV2R3IFxuICAgICAgZnVuY3Rpb24gaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KHNXaW5kb3dJZCkge1xuICAgICAgICAkKCcud2R3JykuaGlkZSgpOyAvL2ZhZGVvdXQgNTAwIFxuICAgICAgICAkKCcjJyArIHNXaW5kb3dJZCkuc2hvdygpOyAvLyBmYWRlIGluIDUwMCBcbiAgICAgIH1cbiAgXG4gIFxuICBcbiAgICAgIC8vU3RvcmluZyBldmVudHMgXG4gICAgICB2YXIgYUV2ZW50cyA9IFtdOyBcbiAgXG4gICAgICAvL0NoZWtraW5nIGZvciBsb2NhbCBzdG9yYWdlIFxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5zRXZlbnRzKSB7XG4gICAgICAgIC8vIHJlYWQgdGhlIHRleHQgZnJvbSB0aGUgbG9jYWwgc3RvcmFnZVxuICAgICAgICAvLyBjb252ZXJ0IHRoYXQgdGV4dCBpbnRvIGFuIG9iamVjdFxuICAgICAgICB2YXIgc0V2ZW50c0Zyb21Mb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2Uuc0V2ZW50czsgXG4gICAgICAgIGFFdmVudHMgPSBKU09OLnBhcnNlKHNFdmVudHNGcm9tTG9jYWxTdG9yYWdlKTsgICAgIFxuICAgICAgfVxuICBcbiAgXG4gICAgJChmdW5jdGlvbiAoKSB7IC8vUGVyZm9ybWFuY2UgaW4gaGVyZSAtLT4gbG9hZCBhc3luYyBmaXJzdCBwcmlvcml0eSBcbiAgICAgIC8vIEZhc3RTaGVsbFxuICAgIH0pO1xuICBcbiAgXG4gICBcbiAgXG4gIC8vQ3JlYXRlIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy9BZGRzIGV2ZW50cyB0byBzZWFyY2ggLS0gc2NoZWR1bGUgY2FsZW5kYXIgXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFFdmVudHMubGVuZ3RoOyBpKyspIHsgIC8vdGVtcGxhdGluZyBcbiAgICAgIC8vYXBwZW5kICBcbiAgICAgICQoJyNsYmxFdmVudHMnKS5hcHBlbmQoXG4gICAgICAgICc8dHI+JyArXG4gICAgICAgICc8dGggc2NvcGU9XCJyb3dcIj4nKyc8aDQ+JythRXZlbnRzW2ldLmlkKyc8L2g0PicrJzwvdGg+JytcbiAgICAgICAgJzx0ZD4nKyc8aDQ+JythRXZlbnRzW2ldLm5hbWUrJzwvaDQ+JysnPC90ZD4nK1xuICAgICAgICAvLyc8dGQgY2xhc3M9XCJldmVudFByaWNlXCI+JytldmVudFByaWNlQ2hhbmdlKyc8L3RkPicrXG4gICAgICAgICc8dGQ+PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L3RkPicrXG4gICAgICAgICc8L3RyPicpOyBcdFxuICAgICAgfVxuICBcbiAgXG4gICAgICAvL0FkZCBuZXcgRXZlbnRcbiAgICAkKCcjcG9zdGJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICBcbiAgICAgIHZhciBzRXZlbnRJZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIHNJbWFnZVVybCA9ICQoJyNpbnB1dHBvc3RpbWcnKS52YWwoKTtcbiAgICAgIHZhciBzcG9zdGV2ZW50ID0gJCgnI2lucHV0cG9zdGV2ZW50JykudmFsKCk7XG4gICAgICB2YXIgc1Bvc3REZXNjID0gJCgnI2lucHV0cG9zdGRlc2MnKS52YWwoKTtcbiAgICAgIHZhciBzUG9zdExvY2F0aW9uID0gJCgnI2lucHV0cG9zdGxvY2F0aW9uJykudmFsKCk7IFxuICAgICAgdmFyIHNMaW5rID0gJ2xpbmsnO1xuICBcbiAgICAgIC8vY29uc29sZS5sb2coc0ltYWdlVXJsICsgc3Bvc3R0aXRlbCArIHNQb3N0RGVzYyArIHNQb3N0TG9jYXRpb24pO1xuICAgICAgLy9CZWZvcmUgLmNhbGVuZGFyLWJhY2sgXG4gICAgICAkKCcjbGJsRXZlbnRzJykuYXBwZW5kKFxuICAgICAgICAnPHRyPicgKyBcbiAgICAgICAgICAnPHRkPicrc3Bvc3RldmVudCsnPC90ZD4nK1xuICAgICAgICAgICc8dGQ+JytzUG9zdExvY2F0aW9uKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD4nK3NFdmVudElkKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD4nK3NMaW5rKyc8L3RkPicrXG4gICAgICAgICAgJzx0ZD48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjwvdGQ+JytcbiAgICAgICAgJzwvdHI+Jyk7XG4gIFxuICAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctY2FsZW5kYXInKTtcbiAgXG4gIFxuICAgICAgdmFyIGpFdmVudCA9IHt9O1xuICAgICAgakV2ZW50LmlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICBqRXZlbnQuaW1hZ2VVcmwgPSBzSW1hZ2VVcmw7XG4gICAgICBqRXZlbnQucG9zdGV2ZW50ID0gc3Bvc3RldmVudDtcbiAgICAgIGpFdmVudC5Qb3N0RGVzYyA9IHNQb3N0RGVzYztcbiAgICAgIGpFdmVudC5zUG9zdExvY2F0aW9uID0gc1Bvc3RMb2NhdGlvbjtcbiAgICAgIGFFdmVudHMucHVzaChqRXZlbnQpO1xuICAgICAgLy9jb25zb2xlLmxvZyhhRXZlbnRzKTtcbiAgICAgIC8vU2F2ZSB0byBMb2NhbCBzdG9yYWdlXG4gICAgICB2YXIgc0ZpbmFsRXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoYUV2ZW50cyk7XG4gICAgICAvL3VwZGF0ZSB0aGUgc0V2ZW50cyB0byBsb2NhbCB0ZXh0XG4gICAgICBsb2NhbFN0b3JhZ2Uuc0V2ZW50cyA9IHNGaW5hbEV2ZW50cztcbiAgXG4gICAgICAvL1JlYWQgZnJvbSBsb2NhbHN0b3JhZ2UgYW5kIHVwZGF0ZSBvbiBsb2FkIHRoZSBzZWFyY2ggY2FsZW5kYXIgd2l0aG8gYmJqZWN0cyBcbiAgICB9KTtcbiAgXG4gIFxuICAgICQoJyNsYmxFdmVudHMgZGl2JykuZWFjaChmdW5jdGlvbiggaW5kZXggKSB7XG4gICAgICBjb25zb2xlLmxvZyggaW5kZXggKyAnOiAnICsgJCh0aGlzKS50ZXh0KCkpO1xuICAgICAgJCh0aGlzKS5jc3M7XG4gICAgfSk7XG4gICAgICBcblxuICBcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8vRnVuY3Rpb25zIFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgXG5cblxuICAgIC8vTmV3IFVwZGF0ZWQgU2VhcmNoIGZlYXR1cmUgXG5cbiAgICAkKCcjc2VhcmNoRXZlbnRzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy9nZXQgaW5wdXQgdmFsdWUgb2YgI3NlYXJjaC1lbmdpbmVcbiAgICAgIHZhciBpbnB1dFNlYXJjaEZpZWxkID0gICQoJyNzZWFyY2hmcm9udCcpLnZhbCgpO1xuICAgICAgdmFyIGFJbnB1dCA9IGlucHV0U2VhcmNoRmllbGQuc3BsaXQoXCIgXCIpO1xuICAgICAgdmFyIGpSZXN1bHRzID0gW107XG5cbiAgICAgIGNvbnNvbGUubG9nKGFJbnB1dCk7XG4gICAgICAvL1N0b3AgXG5cbiAgICAgIC8vZ2V0IGluc3RhbmNlIG9mIGxvY2FsU3RvcmFnZSAgIC8vTUlzc2luZyBwdXQgZmlndXJlIGNhcCBpbnRvIGxvY2Fsc3RvcmFnZSBcbiAgICAgIHZhciBqVGVtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmV2ZW50cyk7XG4gICAgICBcbiAgICAgIC8vY2hlY2sgZWFjaCBhSW5wdXQgZm9yIGEgbWF0Y2hcbiAgICAgIGFJbnB1dC5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcblxuICAgICAgICB2YXIgdGVtcCA9IGE7XG5cbiAgICAgICAgalRlbXAuZm9yRWFjaChmdW5jdGlvbihqKXtcblxuICAgICAgICAgIHZhciBuYW1lID0gai5uYW1lO1xuICAgICAgICAgIHZhciB0b3BpYyA9IGoudG9waWM7XG4gICAgICAgICAgdmFyIGxldmVsID0gai5sZXZlbDtcbiAgICAgICAgICB2YXIgb3JnID0gai5zcGVha2VyX29yZ2FuaXphdGlvbjtcbiAgICAgICAgICB2YXIgbG9jYXRpb24gPSBqLmxvY2F0aW9uO1xuXG4gICAgICAgICAgY29tcGFyZSh0ZW1wLCBuYW1lLCBqLCBqUmVzdWx0cyk7XG4gICAgICAgICAgLy9jb21wYXJlKHRlbXAsIHRvcGljLCBqLCBqUmVzdWx0cyk7IC8vdGhpcyBpcyBhbiBhcnJheVxuICAgICAgICAgIGNvbXBhcmUodGVtcCwgbGV2ZWwsIGosIGpSZXN1bHRzKTtcbiAgICAgICAgICBjb21wYXJlKHRlbXAsIG9yZywgaiwgalJlc3VsdHMpO1xuICAgICAgICAgIC8vY29tcGFyZSh0ZW1wLCBsb2NhdGlvbiwgaiwgalJlc3VsdHMpOyAvL3RoaXMgaXMgYSBKU09OIG9iamVjdFxuXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vcmVtb3ZlIGR1cGxpY2F0ZXNcbiAgICAgIGNvbnNvbGUubG9nKGpSZXN1bHRzKTtcblxuICAgICAgdmFyIGpSZXN1bHRzRmluYWwgPSBqUmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24oZWxlbSwgaW5kZXgsIHNlbGYpIHtcbiAgICAgIHJldHVybiBpbmRleCA9PSBzZWxmLmluZGV4T2YoZWxlbSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coalJlc3VsdHNGaW5hbCk7XG5cbiAgICAgIC8vY2xlYXIgZGVmYXVsdCBpdGVtcyBmcm9tIFxuICAgICAgJChcIiNldmVudC1saXN0aW5nXCIpLmVtcHR5KCk7XG5cbiAgICAgIHZhciBiYXNlTnVtYmVyID0galJlc3VsdHNGaW5hbC5sZW5ndGggLyAzO1xuICAgICAgY29uc29sZS5sb2coXCJUaGUgYmFzZSBudW1iZXIgaXM6IFwiICsgYmFzZU51bWJlcik7XG5cbiAgICAgIC8vYXBwZW5kIHRvIERPTVxuICAgICAgalJlc3VsdHNGaW5hbC5mb3JFYWNoKGZ1bmN0aW9uKGopIHtcbiAgICAgICAgdmFyIGFUb3BpY3MgPSBqLnRvcGljO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGpSZXN1bHRzRmluYWwubGVuZ3RoKTtcbiAgICAgICAgY29uc29sZS5sb2coai5uYW1lKTtcblxuICAgICAgICAvL2dldCBhbiBpbnN0YW5jZSBvZiBhbiBldmVudCBhbmQgYXBwZW5kIGl0IHRvIHRoZSBET00uLlxuICAgICAgICAkKFwiI2V2ZW50LWxpc3RpbmdcIikuYXBwZW5kKCdcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LXRoaXJkc1wiIGRhdGEtZXZlbnQtaWQ9XCInICsgai5pZCArICdcIj5cXFxuICAgICAgICAgICAgICA8ZGl2PlxcXG4gICAgICAgICAgICAgICAgPGgxPicgKyBqLm5hbWUgKyAnPC9oMT5cXFxuICAgICAgICAgICAgICAgIDxoMj4nICsgYVRvcGljcyArICc8L2gyPlxcXG4gICAgICAgICAgICAgICAgPGg1PicgKyBqLmRhdGUuZGF5ICsgJy0nICsgai5kYXRlLm1vbnRoICsgJy0nICsgai5kYXRlLnllYXIgKyAnPC9oNT5cXFxuICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAnKTtcblxuXG4gICAgICB9KTtcbiAgfSk7IC8vRW5kIG5ldyBzZWFyY2ggZmVhdHVyZSBcblxuXG5cbiAgaWYgKGxvY2FsU3RvcmFnZS5ldmVudHMgPT0gbnVsbCkge1xuICAgIC8vaW1wb3J0IGRhdGEgZnJvbSBkYXRhL2V2ZW50cy5qc29uXG4gICAgLy9pbnB1dCBpbnRvIGxvY2FsU3RvcmFnZS5ldmVudHNcbiAgICAvL2pzb24gZmlsZSB3aWxsIGFsd2F5cyBoYXZlIGRhdGEsIHdoaWNoIGlzIHdoeSB0aGlzIG1ldGhvZCB3aWxsIGFsd2F5cyB3b3JrIVxuICAgIGNvbnNvbGUubG9nKFwibG9jYWxTdG9yYWdlLmV2ZW50cyBpcyBlbXB0eVwiKTtcbiAgICAkLmdldEpTT04oXCJhc3NldHMvZGF0YS9ldmVudHMuanNvblwiKS5kb25lKCBmdW5jdGlvbihqRGF0YSkge1xuICAgICAgY29uc29sZS5sb2coakRhdGEpO1xuICAgICAgLy9wdXQgdGhlIGpEYXRhIG9iamVjdHMgaW50byBsb2NhbFN0b3JhZ2VcbiAgICAgIHZhciBzRGF0YSA9IEpTT04uc3RyaW5naWZ5KGpEYXRhKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5ldmVudHMgPSBzRGF0YTtcbiAgICAgIGNvbnNvbGUubG9nKFwibG9jYWxTdG9yYWdlLmV2ZW50cyBzdWNjZXNzZnVsbHkgcG9wdWxhdGVkXCIpO1xuXG4gICAgICB2YXIgc0V2ZW50cyA9IGxvY2FsU3RvcmFnZS5ldmVudHM7XG4gICAgICB2YXIgakV2ZW50cyA9IEpTT04ucGFyc2Uoc0V2ZW50cyk7XG5cbiAgICAgIGpFdmVudHMuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICAgIGlmIChqRXZlbnRzLmluZGV4T2YoaikgPD0gOSkge1xuICAgICAgICAgIC8vc3RhcnRcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuXG4gICAgICAgICAgdmFyIGFUb3BpY3MgPSBqLnRvcGljO1xuXG4gICAgICAgICAgJChcIiNldmVudC1saXN0aW5nXCIpLmFwcGVuZCgnXFxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LXRoaXJkc1wiIGRhdGEtZXZlbnQtaWQ9XCInICsgai5pZCArICdcIj5cXFxuICAgICAgICAgICAgICAgIDxkaXY+XFxcbiAgICAgICAgICAgICAgICAgIDxoMT4nICsgai5uYW1lICsgJzwvaDE+XFxcbiAgICAgICAgICAgICAgICAgIDxoMj4nICsgYVRvcGljcyArICc8L2gyPlxcXG4gICAgICAgICAgICAgICAgICA8aDU+JyArIGouZGF0ZS5kYXkgKyAnLScgKyBqLmRhdGUubW9udGggKyAnLScgKyBqLmRhdGUueWVhciArICc8L2g1PlxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAnKTtcbiAgICAgICAgICAvL2VuZFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaW5pdFBvcERhdGEoKTsgLy9wb3B1bGF0ZSBkYXRhIGluIGV2ZW50LW1hbmFnZW1lbnQgdGFibGVcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UuZXZlbnRzKSB7XG4gICAgLy9sb2FkIGV2ZXJ5dGhpbmcgZnJvbSBsb2NhbHN0b3JhZ2UgYW5kIHBvcHVsYXRlIHRoZSBkaXYgd2l0aCBkYXRhLi5cbiAgICBjb25zb2xlLmxvZyhcImxvY2FsU3RvcmFnZS5ldmVudHMgaGFzIGRhdGFcIik7XG4gICAgXG4gICAgdmFyIHNFdmVudHMgPSBsb2NhbFN0b3JhZ2UuZXZlbnRzO1xuICAgIHZhciBqRXZlbnRzID0gSlNPTi5wYXJzZShzRXZlbnRzKTtcblxuICAgIGpFdmVudHMuZm9yRWFjaChmdW5jdGlvbihqKSB7XG4gICAgICBpZiAoakV2ZW50cy5pbmRleE9mKGopIDw9IDkpIHtcbiAgICAgICAgLy9zdGFydFxuICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuXG4gICAgICAgIHZhciBhVG9waWNzID0gai50b3BpYztcblxuICAgICAgICAkKFwiI2V2ZW50LWxpc3RpbmdcIikuYXBwZW5kKCdcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV2ZW50LXRoaXJkc1wiIGRhdGEtZXZlbnQtaWQ9XCInICsgai5pZCArICdcIj5cXFxuICAgICAgICAgICAgICA8ZGl2PlxcXG4gICAgICAgICAgICAgICAgPGgxPicgKyBqLm5hbWUgKyAnPC9oMT5cXFxuICAgICAgICAgICAgICAgIDxoMj4nICsgYVRvcGljcyArICc8L2gyPlxcXG4gICAgICAgICAgICAgICAgPGg1PicgKyBqLmRhdGUuZGF5ICsgJy0nICsgai5kYXRlLm1vbnRoICsgJy0nICsgai5kYXRlLnllYXIgKyAnPC9oNT5cXFxuICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgJyk7XG4gICAgICAgIC8vZW5kXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpbml0UG9wRGF0YSgpO1xuICB9XG5cblxuICBcblxuICBmdW5jdGlvbiBpbml0UG9wRGF0YSgpIHtcbiAgICAvL3NpbmNlIGxvY2Fsc3RvcmFnZSB3aWxsIGFsd2F5cyBoYXZlIHZhbHVlcyxcbiAgICAvL2FwcGVuZCBhbGwgb2YgbG9jYWxzdG9yYWdlJ3MgY29udGVudCB0byB0aGUgY29ycmVzcG9uZGluZyB0YWJsZVxuICAgIHZhciBqRXZlbnRzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZXZlbnRzKTtcbiAgICBqRXZlbnRzLmZvckVhY2goIGZ1bmN0aW9uKGopIHtcbiAgICAgICQoXCIjZXZlbnQtbGlzdGluZyB0Ym9keVwiKS5hcHBlbmQoJzx0ciBkYXRhLWV2ZW50LWlkPVwiJyArIGouaWQgKyAnXCI+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLm5hbWUgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGoudG9waWMgKyAnPC90ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JyArIGouc3BlYWtlciArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD4nICsgai5kYXRlLmRheSArICcgJyArIGouZGF0ZS5tb250aCArICcgJyArIGouZGF0ZS55ZWFyICsgJzwvdGQ+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPicgKyBqLnRpbWVfMjRoLmhvdXIgKyAnOicgKyBqLnRpbWVfMjRoLm1pbnV0ZSArICc8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtcGVuY2lsXCIgaWQ9XCJlZGl0LWV2ZW50LWljb25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XFxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhIGZhLXRyYXNoXCIgaWQ9XCJkZWxldGUtZXZlbnQtaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxcXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxcXG5cdFx0XHQnKTtcbiAgICB9KTtcbiAgfVxuXG5cblxuXG5cblxuICBmdW5jdGlvbiBjb21wYXJlKGlucHV0VmFsLCBkYXRhVmFsLCBqT2JqLCBqRGF0YSkge1xuICAgIHZhciBpbnB1dFZhbExvd2VyID0gaW5wdXRWYWwudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgZGF0YVZhbExvd2VyID0gZGF0YVZhbC50b0xvd2VyQ2FzZSgpO1xuICBcbiAgICBjb25zb2xlLmxvZyhcIlRoZSBpbnB1dCB2YWx1ZSBpczogXCIgKyBpbnB1dFZhbExvd2VyKTtcbiAgICBjb25zb2xlLmxvZyhcIlRoZSBKU09OIGRhdGEgdG8gY29tcGFyZSBpczogXCIgKyBkYXRhVmFsTG93ZXIpO1xuICBcbiAgICB2YXIgYm9vbCA9IGRhdGFWYWxMb3dlci5pbmNsdWRlcyhpbnB1dFZhbExvd2VyKTtcbiAgICBjb25zb2xlLmxvZyhcIlRoZSBib29sID0gXCIgKyBib29sKTtcbiAgXG4gICAgICBpZiAoYm9vbCA9PSB0cnVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWF0Y2ggbWFkZVwiKTtcbiAgICAgICAgakRhdGEucHVzaChqT2JqKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRmFsc2VcIik7XG4gICAgICB9XG4gIH1cbiAgXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4gIFxuICBcbiAgLy9vbiBsb2FkXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1ob21lJyk7IFxuICB9KTtcbiAgXG4gIFxuICBmdW5jdGlvbiBpc0xvZ2dlZEluKCkge1xuICAgIC8vaWYobG9jYWxTdG9yYWdlLnVzZXJDcmVkcyl7XG4gICAgJCgnI2xpbmtSZWdpc3RlcicpLmZhZGVPdXQoNTAwKTtcbiAgICAkKCcjbGlua0xvZ2luJykuZmFkZU91dCg1MDApO1xuICAgICQoJyNsaW5rTG9nb3V0JykuZmFkZUluKDUwMCk7XG4gICAgIC8vfVxuICB9XG4gIFxuICAvL2Z1bmMgbG9nb3V0IFxuICBcbiAgXG4gIGZ1bmN0aW9uIHNlYXJjaEV2ZW50c0hvbWUoKSB7XG4gICAgdmFyIGlucHV0LCBmaWx0ZXIsIGZpZ2NsYXNzICwgZmlnY2FwICxsb2NhdGlvbixpO1xuICBcbiAgICBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hmcm9udCcpO1xuICAgIGZpbHRlciA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7IFxuICAgIGZpZ2NsYXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VmZmVjdC1taWxvJyk7IFxuICAgIGZpZ2NhcCA9IGZpZ2NsYXNzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsb2NhdGlvbicpO1xuXG4gICAgY29uc29sZS5sb2coZmlnY2FwKTtcbiAgICAvL0xvb3AgdGhyb3VnaCBhbGwgZmlnIGNhcHRpb25zIGFuZCBoaWRlL3Nob3dcbiAgICBmb3IoaSA9IDA7IGkgPCAgZmlnY2FwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsb2NhdGlvbiA9IGZpZ2NhcFtpXS5nZXRFbGVtZW50QnlJZCgnc3BhbicpWzBdO1xuICAgICAgY29uc29sZS5sb2cobG9jYXRpb24pO1xuICAgICAgY29uc29sZS5sb2coZmlnY2FwW2ldICsgZmlnY2FwKTtcbiAgXG4gICAgICBpZihsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24uaW5uZXJIVE1MLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpID4gLTEpIHtcbiAgICAgICAgICBmaWdjYXBbaV0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGZpZ2NhcFtpXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlnY2FwW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgY29uc29sZS5sb2coZmlnY2FwW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXG4gIH1cbiAgXG4gICQoJyNzZWFyY2hmcm9udCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgIHNlYXJjaEV2ZW50c0hvbWUoKTtcbiAgICBjb25zb2xlLmxvZygnc2VhcmNoaWduLCcpO1xuICB9KTtcbiAgXG4gIC8vU2VyYWNoIEV2ZW50cyBEeW5hbWljaWFseSBcbiAgZnVuY3Rpb24gc2VhcmNoRXZlbnRzKCkge1xuICAgIC8vIERlY2xhcmUgdmFyaWFibGVzIFxuICAgIHZhciBpbnB1dCwgZmlsdGVyLCB0YWJsZSwgdHIsIHRkLCBpO1xuICAgIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215SW5wdXQnKTtcbiAgICBmaWx0ZXIgPSBpbnB1dC52YWx1ZS50b1VwcGVyQ2FzZSgpO1xuICAgIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215VGFibGUnKTtcbiAgICB0ciA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0cicpO1xuICBcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRhYmxlIHJvd3MsIGFuZCBoaWRlIHRob3NlIHdobyBkb24ndCBtYXRjaCB0aGUgc2VhcmNoIHF1ZXJ5XG4gICAgZm9yIChpID0gMDsgaSA8IHRyLmxlbmd0aDsgaSsrKSB7XG4gICAgIFxuICAgICAgdGQgPSB0cltpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKVswXTtcbiAgICAgIGlmICh0ZCkge1xuICAgICAgICBpZiAodGQuaW5uZXJIVE1MLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpID4gLTEpIHtcbiAgICAgICAgICB0cltpXS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgfSBcbiAgICB9XG4gIH1cbiAgXG4gIFxuICAvL1NlYXJjaCBUaHJvdWdoIFRhYmxlIC0+IFxuICAkKCcjbXlJbnB1dCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgIHNlYXJjaEV2ZW50cygpO1xuICB9KTtcbiAgXG4gIFxuICAvKlxuICBmdW5jdGlvbiBjcmVhdGVQb3N0KCkgeyAvL1Rha2VzIG9iamVjdCAgUG9zdCBcbiAgLypcbiAgICAkKCcjd2R3LWFsbC1ldmVudHMnKS5lbXB0eSgpOyBcbiAgICB2YXIgc1Bvc3RUZW1wbGF0ZSA9IFxuICAgICc8ZGl2IGNsYXNzPVwiZ3JpZF9qb2JcIj48ZmlndXJlIGNsYXNzPVwiZWZmZWN0LW1pbG9cIiBpZD1cImZpZ3VyZTFcIj5cXFxuICAgICA8aW1nIGNsYXNzPVwiZmVhdHVyZWQtY29tcGFueV9faW1hZ2VcIiBzcmM9XCIke1Bvc3QuaW1nfVwiIGFsdD1cIlwiPjxmaWdjYXB0aW9uPlxcXG4gICAgIDxoMj4ke1Bvc3QudGl0bGV9IDxzcGFuPiAke1Bvc3QubG9jYXRpb259IDwvc3Bhbj5cXFxuICAgICA8L2gyPjxwPiR7ZGVzY308L3A+PGEgaHJlZj1cIiNcIj5WaWV3IG1vcmU8L2E+PC9maWdjYXB0aW9uPjwvZmlndXJlPjwvZGl2PlxcXG4gICAgICc7XG4gIFxuICAgICAkKCcjd2QtYWxsLWV2ZW50cycpLmFwcGVuZChzUG9zdFRlbXBsYXRlKTtcbiAgXG4gICAgXG4gIH1cbiAgKi9cbiAgXG4gIFxuICBmdW5jdGlvbiBnZXRQb3N0KCkge1xuICAgIHZhciBzSW1hZ2VVcmwgPSAkKCcjaW5wdXRwb3N0aW1nJykudmFsKCk7XG4gICAgdmFyIHNwb3N0dGl0ZWwgPSAkKCcjaW5wdXRwb3N0dGl0ZWwnKS52YWwoKTtcbiAgICB2YXIgc1Bvc3REZXNjID0gJCgnI2lucHV0cG9zdGRlc2MnKS52YWwoKTtcbiAgICAgIHZhciBzUG9zdExvY2F0aW9uID0gJCgnI2lucHV0cG9zdGxvY2F0aW9uJykudmFsKCk7IFxuICBcbiAgICAvL2NvbnNvbGUubG9nKHNJbWFnZVVybCArIHNwb3N0dGl0ZWwgKyBzUG9zdERlc2MgKyBzUG9zdExvY2F0aW9uKTtcbiAgICBcbiAgICB2YXIgUG9zdCA9IHtcbiAgICAgICdwb3N0aW1hZ2V1cmwnOnNJbWFnZVVybCxcbiAgICAgICdwb3N0dGl0ZWwnOiBzcG9zdHRpdGVsLFxuICAgICAgJ3Bvc3RkZXNjJzogc1Bvc3REZXNjLFxuICAgICAgJ3Bvc3Rsb2MnOiBzUG9zdExvY2F0aW9uXG4gICAgfTtcbiAgXG4gICAgLy9EaXYgYXBwZW5kIFxuICAgIGNvbnNvbGUubG9nKFBvc3QpO1xuICAgIFxuICBcbiAgICAvL0NvbnZlcnRzIHRvIG9iamVjdHMgIFxuICB9XG4gIFxuICBcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgbG9naW5BZG1pbigpO1xuICB9KTtcbiAgXG4gIGZ1bmN0aW9uIGxvZ2luQWRtaW4oKSB7XG4gICAgICB2YXIgdXNlckNyZWRzQWRtaW4gPSB7XG4gICAgICAndXNlcm5hbWUnOiAndXNlcm5hbWUnLFxuICAgICAgJ3Bhc3N3b3JkJzogJ3Bhc3N3b3JkJ1xuICAgIH07XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NyZWRlbnRpYWxzJywgSlNPTi5zdHJpbmdpZnkodXNlckNyZWRzQWRtaW4pKTsgXHRcdCBcbiAgfVxuICBcbiAgXG4gIFxuICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLy9Mb2dpbiBvbiBwYWdlICBcbiAgICAvL0F1dGhlbnRpY2F0aW9uIGlzIG1pc3NpbmcgLSBhZG1pbiAtIG1lbWJlclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyBcbiAgJCgnI2xvZ2luYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNyZWRlbnRpYWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3JlZGVudGlhbHMnKSk7IFxuICAgIHZhciBjcmVkZW50aWFsc01lbWJlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyZWRlbnRpYWxzTWVtYmVyJykpOyBcbiAgXG4gICAgdmFyIHVzZXJuYW1lSW5wdXQgPSAkKCcjaW5wdXR1c2VybmFtZScpLnZhbCgpO1xuICAgIHZhciBwYXNzd29yZCAgPSAkKCcjaW5wdXRwYXNzd29yZCcpLnZhbCgpO1xuICAgIC8vY29uc29sZS5sb2codXNlcm5hbWVJbnB1dCArIHBhc3N3b3JkKTtcbiAgXG4gICAgaWYoY3JlZGVudGlhbHMudXNlcm5hbWUgPT09IHVzZXJuYW1lSW5wdXQgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQgPT09IHBhc3N3b3JkIHx8IGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lID09PSB1c2VybmFtZUlucHV0ICYmIGNyZWRlbnRpYWxzTWVtYmVyLnBhc3N3b3JkID09PSBwYXNzd29yZCApIHtcbiAgICAgICBjb25zb2xlLmxvZygnV2VsY29tZSBNci4gICAnICsgY3JlZGVudGlhbHMudXNlcm5hbWUpO1xuICAgICAgIFxuICAgICAgLy8gbG9jYWxTdG9yYWdlLmxvZ2dlZEluVXNlciA9IEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxzKTtcbiAgICAgICBpc0xvZ2dlZEluKCk7XG4gICAgICAgJCgnLmJyYW5kIGgxJykudGV4dCgnTG9nZ2VkIGluIGFzIEFkbWluICcgKyAnIyAnICsgY3JlZGVudGlhbHMudXNlcm5hbWUpO1xuICAgICAgICAgXG4gIFxuICAgICAgLy8gaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctcmVnaXN0ZXItbWVtYmVyJyk7XG4gICAgICBcbiAgICAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctaW5kZXgnKTtcbiAgXG4gICAgICAgIGNvbnNvbGUubG9nKGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lICsgY3JlZGVudGlhbHNNZW1iZXIucGFzc3dvcmQpO1xuICAgICAgICBcbiAgICAgICAgLy8gJCgnLmJyYW5kIGgxJykudGV4dCgnTG9nZ2VkIGluIGFzIE1lbWJlcicgKyAnICMgJyArIGNyZWRlbnRpYWxzTWVtYmVyLnVzZXJuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCBsb2dpbicpO1xuICAgIH1cbiAgXG4gIFxuICB9KTtcbiAgXG4gIFxuICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgLy9SZWdpc3RlciB1c2VyIG9uIHBhZ2UgXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICQoJyNtZW1iZXJidG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgXG4gICAgdmFyIGlucHV0Zm5hbWUgPSAkKCcjaW5wdXRmbmFtZXJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dGxuYW1lID0gJCgnI2lucHV0bG5hbWVyZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXRlbWFpbCA9ICQoJyNpbnB1dGVtYWlscmVnJykudmFsKCk7XG4gICAgdmFyIGlucHV0bG9jYXRpb24gPSAkKCcjaW5wdXRsb2NhdGlvbnJlZycpLnZhbCgpO1xuICAgIHZhciBpbnB1dHVzZXJuYW1lID0gJCgnI2lucHV0dXNlcm5hbWVyZWcnKS52YWwoKTtcbiAgICB2YXIgaW5wdXRwYXNzID0gJCgnI2lucHV0cGFzc3dvcmRyZWcnKS52YWwoKTtcbiAgXG4gICAgLy9jb25zb2xlLmxvZygnTmV3IFJlZ2lzdGVyZCB1c2VyID0gICcgKyBpbnB1dHVzZXJuYW1lKTtcbiAgXG4gICAgdmFyIHVzZXJDcmVkcyA9IHtcbiAgICAgICdmbmFtZScgOiBpbnB1dGZuYW1lLFxuICAgICAgJ2xuYW1lJzogaW5wdXRsbmFtZSxcbiAgICAgICdlbWFpbCc6aW5wdXRlbWFpbCxcbiAgICAgICdsb2NhdGlvbic6aW5wdXRsb2NhdGlvbixcbiAgICAgICd1c2VybmFtJzogaW5wdXR1c2VybmFtZSxcbiAgICAgICdwYXNzd29yZCc6IGlucHV0cGFzcyxcbiAgICAgIFxuICAgIH07XG4gIFxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjcmVkZW50aWFsc01lbWJlcicsIEpTT04uc3RyaW5naWZ5KHVzZXJDcmVkcykpOyBcbiAgXG4gICAgY29uc29sZS5sb2coJ0xvY2FsIFN0b3JhZ2Ugc3RvcmUnLCB1c2VyQ3JlZHMpO1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWxvZ2luJyk7XG4gIFxuICB9KTsgXG4gIFxuICBcbiAgXG4gICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAvL0V2ZW50IExpc3RlbmVycyBcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgXG4gICAgLy9Qb3N0XG4gICAgJCgnI3Bvc3RidG4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGdldFBvc3QoKTsgXG4gICAgY29uc29sZS5sb2coJ3Bvc3QgZXZlbnQnKTtcbiAgICB9KTtcbiAgXG4gIC8vTmF2IC0gTG9naW4gXG4gICQoJyNsaW5rTG9naW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbG9naW4nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdOYXYgLSBsb2dpbiBjbGlja2VkJyk7XG4gIH0pO1xuICBcbiAgLy9OYXYgLSBIb21lIFxuICAkKCcjbGlua0hvbWUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1ob21lJyk7XG4gICAgY29uc29sZS5sb2coJ05hdiAtIEhvbWUgQ2xpY2tlZCAnKTtcbiAgfSk7XG4gIFxuICBcbiAgLy9OYXYgLSBFdmVudFxuICAkKCcjbGlua0V2ZW50cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LWV2ZW50cycpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBMaW5rIEV2ZW50Jyk7XG4gIH0pO1xuICBcbiAgXG4gIC8vTmF2IC0gTmV3cyBcbiAgJCgnI2xpbmtOZXdzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbmV3cycpO1xuICAgIGNvbnNvbGUubG9nKCdOYXYgLSBOZXdzIGNsaWNrZWQnKTtcbiAgfSk7XG4gIFxuICAvL05hdiAtIENhbGVuZGFyIFxuICAkKCcjbGlua0NhbGVuZGFyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctY2FsZW5kYXInKTtcbiAgICBjb25zb2xlLmxvZygnTmF2IC0gQ2FsZW5kYXIgY2xpY2tlZCcpO1xuICB9KTtcbiAgXG4gIC8vTmF2IC0gQWxsIEV2ZW50cyBcbiAgJCgnI2xpbmtBbGxFdmVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBoaWRlV2luZG93c0FuZFNob3dPbmVXaW5kb3coJ3dkdy1hbGwtZXZlbnRzJyk7XG4gICAgY29uc29sZS5sb2coJ05hdiAtIGFsbCBldmVudHMgY2xpY2snKTtcbiAgfSk7XG4gIFxuICBcbiAgLy9QYWdlIC0gUG9zdCBhbiBldmVudCBcbiAgJCgnI2J0bnBvc3RldmVudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LXBvc3QtZXZlbnQnKTtcbiAgICBjb25zb2xlLmxvZygnUG9zdGNsaWNrZScpO1xuICB9KTtcbiAgXG4gIC8vUmVtb3ZlIEV2ZW50XG4gIGFFdmVudHMuaW5kZXhPZih0aGlzKTsgXG4gIFxuICAkKCcuZmEtZmEtdHJhc2gnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZygnVHJhc2hlZCBjbGlja2VkJywgYUV2ZW50cywgYUV2ZW50c1tpXSwgYUV2ZW50cy5sZW5ndGgpO1xuICAgIGFFdmVudHMuc3BsaWNlKDEsMSk7XG4gIH0pO1xuXG5cbiAgLy9NYW5hZ2UgRXZlbnRzIFxuICAkKCcjbWFuYWdlLWV2ZW50cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGhpZGVXaW5kb3dzQW5kU2hvd09uZVdpbmRvdygnd2R3LW1hbmFnZS1ldmVudHMnKTtcbiAgICBjb25zb2xlLmxvZygnbWFuYWdlIGV2ZW50cyBjbGlja2VkICcpO1xuICB9KTtcbiAgXG4gIC8vTWFuYWdlIHVzZXJzIFxuICAkKCcjbWFuYWdlLXVzZXJzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbWFuYWdlLXVzZXJzJyk7XG4gICAgY29uc29sZS5sb2coJ21hbmFnZSB1c2VycyBjbGlja2VkICcpO1xuICB9KTtcblxuICAvLyBNYW5hZ2UgbWVtYmVycyBcbiAgJCgnI21hbmFnZS1tZW1iZXJzJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgaGlkZVdpbmRvd3NBbmRTaG93T25lV2luZG93KCd3ZHctbWFuYWdlLW1lbWJlcnMnKTsgXG4gICAgY29uc29sZS5sb2coJ21hbmFnZS1tZW1iZXJzIGNsaWNrZWQnKTtcbiAgfSk7XG5cbiAgLy9UcmFzaCBEZWxldGUgc2VhcmNoIGV2ZW50c1xuICAkKCcuZmEtZmEtdHJhc2gnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLmhpZGUoKTtcbiAgICBjb25zb2xlLmxvZygnVHJhc2ggZGVsZXRlIGNsaWNrZWQgJyk7XG4gIH0pO1xuICBcbiAgXG4gIFxuICBcbiAgfSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcbiAgIl19
